<?xml version="1.0" encoding="ASCII"?>
<eqvtr:RelationalTransformation xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:eqvtb="http://www.eclipse.org/qvt/1.0/QVTBase" xmlns:eqvtr="http://www.eclipse.org/qvt/1.0/QVTRelation" xmlns:eqvtt="http://www.eclipse.org/qvt/1.0/QVTTemplate" xmlns:ocl.ecore="http://www.eclipse.org/ocl/1.1.0/Ecore" xmi:id="ast1" name="relToCore" nsURI="http://models/RelToCoreWithoutErrors.qvtr/relToCore" nsPrefix="relToCore">
  <eOperations xsi:type="eqvtb:Function" xmi:id="ast2" name="getSharedDomainVars" eType="ast181">
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast3" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </eParameters>
    <queryExpression xsi:type="ocl.ecore:IterateExp" xmi:id="ast4" name="iterate" eType="ast181">
      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast5" eType="ast188">
        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast6" name="r" referredVariable="ast3">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
        </source>
        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
      </source>
      <body xsi:type="ocl.ecore:IfExp" xmi:id="ast7" eType="ast181">
        <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast8">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast9" name="vars" eType="ast181" referredVariable="ast25"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
        </condition>
        <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast10" eType="ast181">
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast11" name="vars" eType="ast181" referredVariable="ast25"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast12" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast13">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast14">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast15" name="d" referredVariable="ast24">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast16" eType="ast190">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
        </thenExpression>
        <elseExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast17" eType="ast181">
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast18" name="vars" eType="ast181" referredVariable="ast25"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast19" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast20">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast21">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast22" name="d" referredVariable="ast24">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast23" eType="ast190">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
        </elseExpression>
      </body>
      <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast24" name="d">
        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
      </iterator>
      <result xsi:type="ocl.ecore:Variable" xmi:id="ast25" name="vars" eType="ast181">
        <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast26" eType="ast189"/>
      </result>
    </queryExpression>
  </eOperations>
  <eOperations xsi:type="eqvtb:Function" xmi:id="ast27" name="getWhenVars" eType="ast181">
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast28" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </eParameters>
    <queryExpression xsi:type="ocl.ecore:LetExp" xmi:id="ast29" eType="ast181">
      <in xsi:type="ocl.ecore:IterateExp" xmi:id="ast30" name="iterate" eType="ast181">
        <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast31" eType="ast188">
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast32" name="r" referredVariable="ast28">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </source>
          <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
        </source>
        <body xsi:type="ocl.ecore:IfExp" xmi:id="ast33" eType="ast181">
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast34">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast35" name="vars" eType="ast181" referredVariable="ast51"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast36" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast37" name="vars" eType="ast181" referredVariable="ast51"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast38" eType="ast181">
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast39">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast40">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast41" name="d" referredVariable="ast50">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </source>
                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast42" eType="ast190">
                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
          </thenExpression>
          <elseExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast43" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast44" name="vars" eType="ast181" referredVariable="ast51"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast45" eType="ast181">
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast46">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast47">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast48" name="d" referredVariable="ast50">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </source>
                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast49" eType="ast190">
                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </elseExpression>
        </body>
        <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast50" name="d">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
        </iterator>
        <result xsi:type="ocl.ecore:Variable" xmi:id="ast51" name="vars" eType="ast181">
          <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast52" eType="ast189"/>
        </result>
      </in>
      <variable xsi:type="ocl.ecore:Variable" xmi:id="ast53" name="vs" eType="ast181">
        <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast54" eType="ast189"/>
      </variable>
    </queryExpression>
  </eOperations>
  <eOperations xsi:type="eqvtb:Function" xmi:id="ast55" name="getVarsOfExp" eType="ast181">
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast56" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </eParameters>
    <queryExpression xsi:type="ocl.ecore:LetExp" xmi:id="ast57" eType="ast181">
      <in xsi:type="ocl.ecore:IfExp" xmi:id="ast58" eType="ast181">
        <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast59">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast60" name="e" referredVariable="ast56">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </source>
          <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast61" eType="ast192">
            <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
        </condition>
        <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast62" eType="ast181">
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast63" name="vs" eType="ast181" referredVariable="ast126"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast64">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast65">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast66" name="e" referredVariable="ast56">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast67" eType="ast192">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
        </thenExpression>
        <elseExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast68" eType="ast181">
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast69">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast70" name="e" referredVariable="ast56">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
            </source>
            <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast71" eType="ast193">
              <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:LetExp" xmi:id="ast72" eType="ast181">
            <in xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast73" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast74" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast75" name="vs" eType="ast181" referredVariable="ast126"/>
                <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast76" name="getVarsOfExp" eType="ast181" referredOperation="ast55">
                  <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast77">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast78" name="oc" referredVariable="ast89">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                  </argument>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
              </source>
              <argument xsi:type="ocl.ecore:IterateExp" xmi:id="ast79" name="iterate" eType="ast181">
                <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast80" eType="ast194">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast81" name="oc" referredVariable="ast89">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
                </source>
                <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast82" eType="ast181">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast83" name="avs" eType="ast181" referredVariable="ast87"/>
                  <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast84" name="getVarsOfExp" eType="ast181" referredOperation="ast55">
                    <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast85" name="a" referredVariable="ast86">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    </argument>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast86" name="a">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                </iterator>
                <result xsi:type="ocl.ecore:Variable" xmi:id="ast87" name="avs" eType="ast181">
                  <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast88" eType="ast189"/>
                </result>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
            </in>
            <variable xsi:type="ocl.ecore:Variable" xmi:id="ast89" name="oc">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
              <initExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast90">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast91" name="e" referredVariable="ast56">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast92" eType="ast193">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
              </initExpression>
            </variable>
          </thenExpression>
          <elseExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast93" eType="ast181">
            <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast94">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast95" name="e" referredVariable="ast56">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast96" eType="ast195">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
            </condition>
            <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast97" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast98" name="vs" eType="ast181" referredVariable="ast126"/>
              <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast99" name="getVarsOfExp" eType="ast181" referredOperation="ast55">
                <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast100">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast101">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast102" name="e" referredVariable="ast56">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    </source>
                    <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast103" eType="ast195">
                      <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                </argument>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
            </thenExpression>
            <elseExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast104" eType="ast181">
              <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast105">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast106" name="e" referredVariable="ast56">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast107" eType="ast196">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
              </condition>
              <thenExpression xsi:type="ocl.ecore:LetExp" xmi:id="ast108" eType="ast181">
                <in xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast109" eType="ast181">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast110" name="vs" eType="ast181" referredVariable="ast126"/>
                  <argument xsi:type="ocl.ecore:IterateExp" xmi:id="ast111" name="iterate" eType="ast181">
                    <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast112" eType="ast194">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast113" name="rc" referredVariable="ast121">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                      </source>
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.argument"/>
                    </source>
                    <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast114" eType="ast181">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast115" name="avs" eType="ast181" referredVariable="ast119"/>
                      <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast116" name="getVarsOfExp" eType="ast181" referredOperation="ast55">
                        <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast117" name="a" referredVariable="ast118">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                        </argument>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
                    </body>
                    <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast118" name="a">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    </iterator>
                    <result xsi:type="ocl.ecore:Variable" xmi:id="ast119" name="avs" eType="ast181">
                      <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast120" eType="ast189"/>
                    </result>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
                </in>
                <variable xsi:type="ocl.ecore:Variable" xmi:id="ast121" name="rc">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                  <initExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast122">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast123" name="e" referredVariable="ast56">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    </source>
                    <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast124" eType="ast196">
                      <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                  </initExpression>
                </variable>
              </thenExpression>
              <elseExpression xsi:type="ocl.ecore:VariableExp" xmi:id="ast125" name="vs" eType="ast181" referredVariable="ast126"/>
            </elseExpression>
          </elseExpression>
        </elseExpression>
      </in>
      <variable xsi:type="ocl.ecore:Variable" xmi:id="ast126" name="vs" eType="ast181">
        <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast127" eType="ast189"/>
      </variable>
    </queryExpression>
  </eOperations>
  <eOperations xsi:type="eqvtb:Function" xmi:id="ast128" name="filterOutPredicatesThatReferToVars" eType="ast182">
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast129" name="rpSet" eType="ast182"/>
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast130" name="ownrdVars" eType="ast181"/>
    <queryExpression xsi:type="ocl.ecore:IterateExp" xmi:id="ast131" name="iterate" eType="ast182">
      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast132" name="rpSet" eType="ast182" referredVariable="ast129"/>
      <body xsi:type="ocl.ecore:IfExp" xmi:id="ast133" eType="ast182">
        <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast134">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast135" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast136" name="getVarsOfExp" eType="ast181" referredOperation="ast55">
              <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast137">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast138" name="p" referredVariable="ast144">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
              </argument>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast139" name="ownrdVars" eType="ast181" referredVariable="ast130"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </source>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
        </condition>
        <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast140" eType="ast182">
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast141" name="fpSet" eType="ast182" referredVariable="ast145"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast142" name="p" referredVariable="ast144">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
        </thenExpression>
        <elseExpression xsi:type="ocl.ecore:VariableExp" xmi:id="ast143" name="fpSet" eType="ast182" referredVariable="ast145"/>
      </body>
      <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast144" name="p">
        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
      </iterator>
      <result xsi:type="ocl.ecore:Variable" xmi:id="ast145" name="fpSet" eType="ast182">
        <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast146" eType="ast189"/>
      </result>
    </queryExpression>
  </eOperations>
  <eOperations xsi:type="eqvtb:Function" xmi:id="ast147" name="isVarBoundToSomeOtherTemplate">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast148" name="rootTe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </eParameters>
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast149" name="skipTe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </eParameters>
    <eParameters xsi:type="eqvtb:FunctionParameter" xmi:id="ast150" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </eParameters>
    <queryExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast151">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
      <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast152">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast153" name="rootTe" referredVariable="ast148">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
        </source>
        <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast154" name="skipTe" referredVariable="ast149">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
        </argument>
        <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/="/>
      </condition>
      <thenExpression xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast155" booleanSymbol="false">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
      </thenExpression>
      <elseExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast156">
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
        <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast157">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast158">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast159" name="rootTe" referredVariable="ast148">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast160" name="v" referredVariable="ast150">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/="/>
        </condition>
        <thenExpression xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast161" booleanSymbol="true">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
        </thenExpression>
        <elseExpression xsi:type="ocl.ecore:IteratorExp" xmi:id="ast162" name="exists">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast163" name="select" eType="ast198">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast164" name="collect" eType="ast198">
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast165" eType="ast197">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast166" name="rootTe" referredVariable="ast148">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast167">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast168" name="temp1" referredVariable="ast169">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast169" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </iterator>
            </source>
            <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast170">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast171" name="pe" referredVariable="ast173">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast172" eType="ast199">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsKindOf"/>
            </body>
            <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast173" name="pe">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
            </iterator>
          </source>
          <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast174" name="isVarBoundToSomeOtherTemplate" referredOperation="ast147">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast175">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast176" name="pet" referredVariable="ast180">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast177" eType="ast199">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast178" name="skipTe" referredVariable="ast149">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast179" name="v" referredVariable="ast150">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
          </body>
          <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast180" name="pet">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </iterator>
        </elseExpression>
      </elseExpression>
    </queryExpression>
  </eOperations>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast181" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast182" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast183" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Element"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast184" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast185" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Element"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast186" instanceClassName="java.util.List" elementType="ast185"/>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast187" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:OrderedSetType" xmi:id="ast188" instanceClassName="java.util.LinkedHashSet">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast189" instanceClassName="java.util.Set">
    <elementType xsi:type="ocl.ecore:VoidType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclVoid"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast190" name="RelationDomain">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:BagType" xmi:id="ast191" instanceClassName="org.eclipse.ocl.util.Bag">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast192" name="VariableExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast193" name="OperationCallExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:OrderedSetType" xmi:id="ast194" instanceClassName="java.util.LinkedHashSet">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast195" name="PropertyCallExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast196" name="RelationCallExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast197" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:BagType" xmi:id="ast198" instanceClassName="org.eclipse.ocl.util.Bag">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast199" name="ObjectTemplateExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:OrderedSetType" xmi:id="ast200" instanceClassName="java.util.LinkedHashSet">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast201" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:OrderedSetType" xmi:id="ast202" instanceClassName="java.util.LinkedHashSet">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast203" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:BagType" xmi:id="ast204" instanceClassName="org.eclipse.ocl.util.Bag">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast205" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.NamedElement"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast206" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.NamedElement"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast207" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast208" instanceClassName="java.util.List">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast209" name="Class">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast210" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Assignment"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SequenceType" xmi:id="ast211" instanceClassName="java.util.List">
    <elementType xsi:type="ocl.ecore:VoidType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclVoid"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast212" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast213" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:BagType" xmi:id="ast214" instanceClassName="org.eclipse.ocl.util.Bag">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast215" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast216" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:TypeType" xmi:id="ast217" name="TemplateExp">
    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast218" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.EnforcementOperation"/>
  </eClassifiers>
  <eClassifiers xsi:type="ocl.ecore:SetType" xmi:id="ast219" instanceClassName="java.util.Set">
    <elementType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationImplementation"/>
  </eClassifiers>
  <modelParameter xmi:id="ast220" name="relations">
    <usedPackage href="QVT.ecore#QVTRelation"/>
    <usedPackage href="QVT.ecore#QVTTemplate"/>
    <usedPackage href="QVT.ecore#QVTBase"/>
    <usedPackage href="QVT.ecore#EssentialOCL"/>
    <usedPackage href="QVT.ecore#EMOF"/>
  </modelParameter>
  <modelParameter xmi:id="ast221" name="core">
    <usedPackage href="QVT.ecore#QVTCore"/>
    <usedPackage href="QVT.ecore#QVTBase"/>
    <usedPackage href="QVT.ecore#EssentialOCL"/>
    <usedPackage href="QVT.ecore#EMOF"/>
  </modelParameter>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast222" name="RelationalTransformationToMappingTransformation" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast223" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast245">
      <pattern xmi:id="ast224" bindsTo="ast245 ast247 ast249 ast248 ast250">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast225" name="rt" bindsTo="ast245">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          <part xmi:id="ast226">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast227" name="rtn" referredVariable="ast247">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast228">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Transformation.modelParameter"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast229" name="rtm" bindsTo="ast249">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
              <part xmi:id="ast230">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast231" name="tmn" referredVariable="ast248">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast232">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast233" name="up" bindsTo="ast250">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                  <referredClass href="QVT.ecore#EMOF.Package"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.RelationalTransformation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast234" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast246">
      <pattern xmi:id="ast235" bindsTo="ast246 ast247 ast251 ast248 ast250">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast236" name="mt" bindsTo="ast246">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          <part xmi:id="ast237">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast238" name="rtn" referredVariable="ast247">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast239">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Transformation.modelParameter"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast240" name="mtm" bindsTo="ast251">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
              <part xmi:id="ast241">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast242" name="tmn" referredVariable="ast248">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast243">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast244" name="up" referredVariable="ast250">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTBase.Transformation"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast245" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast246" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast247" name="rtn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast248" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast249" name="rtm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast250" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast251" name="mtm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast252" name="RelationToTraceClass" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast253" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast283">
      <pattern xmi:id="ast254" bindsTo="ast283 ast285 ast287 ast288 ast289 ast290 ast286 ast291">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast255" name="r" bindsTo="ast283">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast256">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast257" name="rn" referredVariable="ast285">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast258">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast259" name="rd" bindsTo="ast287">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <part xmi:id="ast260">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast261" name="rdp" bindsTo="ast288">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <part xmi:id="ast262">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast263" name="t" bindsTo="ast289">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                      <part xmi:id="ast264">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast265" name="tv" bindsTo="ast290">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                          <part xmi:id="ast266">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast267" name="vn" referredVariable="ast286">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <part xmi:id="ast268">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast269" name="c" bindsTo="ast291">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              <referredClass href="QVT.ecore#EMOF.Class"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast270" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast284">
      <pattern xmi:id="ast271" bindsTo="ast284 ast285 ast292 ast286 ast291">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast272" name="rc" bindsTo="ast284">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          <part xmi:id="ast273">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast274">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast275" stringSymbol="T">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast276" name="rn" referredVariable="ast285">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast277">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Class.ownedAttribute"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast278" name="a" bindsTo="ast292">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              <part xmi:id="ast279">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast280" name="vn" referredVariable="ast286">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast281">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast282" name="c" referredVariable="ast291">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EMOF.Property"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EMOF.Class"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast283" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast284" name="rc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast285" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast286" name="vn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast287" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast288" name="rdp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast289" name="t">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast290" name="tv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast291" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast292" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <where xmi:id="ast293" bindsTo="ast289 ast284">
      <predicate xmi:id="ast294">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast295" referredRelation="ast298">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast296" name="t" referredVariable="ast289">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast297" name="rc" referredVariable="ast284">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast298" name="SubTemplateToTraceClassProps" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast299" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast321">
      <pattern xmi:id="ast300" bindsTo="ast321 ast324 ast325 ast326 ast323 ast327">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast301" name="t" bindsTo="ast321">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          <part xmi:id="ast302">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast303" name="pt" bindsTo="ast324">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              <part xmi:id="ast304">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast305" name="tp" bindsTo="ast325">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  <part xmi:id="ast306">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast307" name="tv" bindsTo="ast326">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      <part xmi:id="ast308">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast309" name="vn" referredVariable="ast323">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <part xmi:id="ast310">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast311" name="c" bindsTo="ast327">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                          <referredClass href="QVT.ecore#EMOF.Class"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast312" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast322">
      <pattern xmi:id="ast313" bindsTo="ast322 ast328 ast323 ast327">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast314" name="rc" bindsTo="ast322">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          <part xmi:id="ast315">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Class.ownedAttribute"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast316" name="a" bindsTo="ast328">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              <part xmi:id="ast317">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast318" name="vn" referredVariable="ast323">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast319">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast320" name="c" referredVariable="ast327">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EMOF.Property"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EMOF.Class"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast321" name="t">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast322" name="rc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast323" name="vn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast324" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast325" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast326" name="tv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast327" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast328" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <where xmi:id="ast329" bindsTo="ast325 ast322">
      <predicate xmi:id="ast330">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast331" referredRelation="ast298">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast332" name="tp" referredVariable="ast325">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast333" name="rc" referredVariable="ast322">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast334" name="TopLevelRelationToMappingForChecking" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast335" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast369">
      <pattern xmi:id="ast336" bindsTo="ast369 ast378 ast376">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast337" name="r" bindsTo="ast369">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast338">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast339" name="exists">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast340" eType="ast188">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast341" name="r" referredVariable="ast369">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
              </source>
              <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast342">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast343">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast344" name="d" referredVariable="ast346">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                </source>
                <argument xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast345" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/="/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast346" name="d">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <part xmi:id="ast347">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast348" name="rt" referredVariable="ast378">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
            </value>
          </part>
          <part xmi:id="ast349">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTRelation.Relation.isTopLevel"/>
            <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast350" booleanSymbol="true">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            </value>
          </part>
          <part xmi:id="ast351">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast352" name="rn" referredVariable="ast376">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast353" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast370">
      <pattern xmi:id="ast354" bindsTo="ast370 ast379 ast376 ast380 ast381 ast382 ast383 ast377">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast355" name="m" bindsTo="ast370">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast356">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast357" name="mt" referredVariable="ast379">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
            </value>
          </part>
          <part xmi:id="ast358">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast359" name="rn" referredVariable="ast376">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast360">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast361" name="mg" bindsTo="ast380">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
              <part xmi:id="ast362">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast363" name="m" referredVariable="ast370">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
            </value>
          </part>
          <part xmi:id="ast364">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast365" name="mb" bindsTo="ast381">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast366">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast367" name="vs" eType="ast181" bindsTo="ast382" referredCollectionType="ast181" rest="ast377">
                  <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast368" name="tcv" bindsTo="ast383">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
                  </member>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast369" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast370" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast371" name="allDomainVars" eType="ast181"/>
    <variable xmi:id="ast372" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast373" name="unsharedWhereVars" eType="ast181"/>
    <variable xmi:id="ast374" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast375" name="whereVars" eType="ast181"/>
    <variable xmi:id="ast376" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast377" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast378" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast379" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast380" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast381" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast382" name="vs" eType="ast181"/>
    <variable xmi:id="ast383" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <when xmi:id="ast384" bindsTo="ast378 ast379">
      <predicate xmi:id="ast385">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast386" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast387" name="rt" referredVariable="ast378">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast388" name="mt" referredVariable="ast379">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast389" bindsTo="ast371 ast369 ast374 ast375 ast372 ast373 ast383 ast380 ast377 ast381 ast370">
      <predicate xmi:id="ast390">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast391">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast392" name="allDomainVars" eType="ast181" referredVariable="ast371"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast393" eType="ast181">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast394" name="collect" eType="ast191">
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast395" name="collect" eType="ast204">
                <source xsi:type="ocl.ecore:IterateExp" xmi:id="ast396" name="iterate" eType="ast203">
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast397" eType="ast188">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast398" name="r" referredVariable="ast369">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                  </source>
                  <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast399" eType="ast203">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast400" name="acc" eType="ast203" referredVariable="ast405"/>
                    <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast401">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast402" name="md" referredVariable="ast404">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast403" eType="ast190">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
                  </body>
                  <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast404" name="md">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </iterator>
                  <result xsi:type="ocl.ecore:Variable" xmi:id="ast405" name="acc" eType="ast203">
                    <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast406" eType="ast189"/>
                  </result>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast407">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast408" name="temp1" referredVariable="ast409">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast409" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </iterator>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast410" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast411" name="temp1" referredVariable="ast412">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast412" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/asSet"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast413">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast414">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast415" name="whenVars" eType="ast181" referredVariable="ast374"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast416" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast417">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast418" name="r" referredVariable="ast369">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast419">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast420">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast421" name="whereVars" eType="ast181" referredVariable="ast375"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast422" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast423">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast424" name="r" referredVariable="ast369">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast425">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast426">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast427" name="sharedDomainVars" eType="ast181" referredVariable="ast372"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast428" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast429" name="r" referredVariable="ast369">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast430">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast431">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast432" name="unsharedWhereVars" eType="ast181" referredVariable="ast373"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast433" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast434" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast435" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast436" name="whereVars" eType="ast181" referredVariable="ast375"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast437" name="whenVars" eType="ast181" referredVariable="ast374"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast438" name="allDomainVars" eType="ast181" referredVariable="ast371"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast439" name="sharedDomainVars" eType="ast181" referredVariable="ast372"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast440">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast441" referredRelation="ast4099">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast442" name="r" referredVariable="ast369">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast443" name="tcv" referredVariable="ast383">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast444">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast445" referredRelation="ast1889">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast446" name="r" referredVariable="ast369">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast447" name="mg" referredVariable="ast380">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast448">
        <conditionExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast449">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast450">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast451" name="unsharedWhereVars" eType="ast181" referredVariable="ast373"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast452">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast453" name="mbVars" eType="ast181" referredVariable="ast377"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast454" eType="ast189"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
          </thenExpression>
          <elseExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast455" referredRelation="ast1948">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast456" eType="ast184">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast457" name="unsharedWhereVars" eType="ast181" referredVariable="ast373"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast458" name="mbVars" eType="ast181" referredVariable="ast377"/>
          </elseExpression>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast459">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast460" referredRelation="ast467">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast461" name="r" referredVariable="ast369">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast462" name="mb" referredVariable="ast381">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast463">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast464" referredRelation="ast1433">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast465" name="r" referredVariable="ast369">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast466" name="m" referredVariable="ast370">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast467" name="RWherePatternToMPattern" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast468" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast476">
      <pattern xmi:id="ast469" bindsTo="ast476 ast478">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast470" name="r" bindsTo="ast476">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast471">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast472" name="wherep" bindsTo="ast478">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <referredClass href="QVT.ecore#QVTBase.Pattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast473" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast477">
      <pattern xmi:id="ast474" bindsTo="ast477">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast475" name="mp" bindsTo="ast477">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          <referredClass href="QVT.ecore#QVTBase.Pattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast476" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast477" name="mp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast478" name="wherep">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <where xmi:id="ast479" bindsTo="ast478 ast477">
      <predicate xmi:id="ast480">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast481" referredRelation="ast2066">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast482" name="wherep" referredVariable="ast478">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast483" name="mp" referredVariable="ast477">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast484" name="UnsharedWhenVarsToMgVars" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast485" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast494">
      <pattern xmi:id="ast486" bindsTo="ast494">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast487" name="unsharedWhenVars" eType="ast181" bindsTo="ast494" referredCollectionType="ast181" rest="ast496">
          <member xsi:type="ocl.ecore:VariableExp" xmi:id="ast488" referredVariable="ast496">
            <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast489" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast495">
      <pattern xmi:id="ast490" bindsTo="ast495 ast497">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast491" name="mg" bindsTo="ast495">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <part xmi:id="ast492">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast493" name="mgVars" eType="ast181" bindsTo="ast497" referredCollectionType="ast181"/>
          </part>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast494" name="unsharedWhenVars" eType="ast181"/>
    <variable xmi:id="ast495" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast496" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast497" name="mgVars" eType="ast181"/>
    <where xmi:id="ast498" bindsTo="ast494 ast497">
      <predicate xmi:id="ast499">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast500" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast501" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast502" name="unsharedWhenVars" eType="ast181" referredVariable="ast494"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast503" name="mgVars" eType="ast181" referredVariable="ast497"/>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast504" name="DomainVarsSharedWithWhenToDgVars" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast505" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast514">
      <pattern xmi:id="ast506" bindsTo="ast514">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast507" name="domainVarsSharedWithWhen" eType="ast181" bindsTo="ast514" referredCollectionType="ast181" rest="ast516">
          <member xsi:type="ocl.ecore:VariableExp" xmi:id="ast508" referredVariable="ast516">
            <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast509" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast515">
      <pattern xmi:id="ast510" bindsTo="ast515 ast517">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast511" name="dg" bindsTo="ast515">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <part xmi:id="ast512">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast513" name="dgVars" eType="ast181" bindsTo="ast517" referredCollectionType="ast181"/>
          </part>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast514" name="domainVarsSharedWithWhen" eType="ast181"/>
    <variable xmi:id="ast515" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast516" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast517" name="dgVars" eType="ast181"/>
    <where xmi:id="ast518" bindsTo="ast514 ast517">
      <predicate xmi:id="ast519">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast520" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast521" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast522" name="domainVarsSharedWithWhen" eType="ast181" referredVariable="ast514"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast523" name="dgVars" eType="ast181" referredVariable="ast517"/>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast524" name="DomainBottomUnSharedVarsToDbVars" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast525" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast534">
      <pattern xmi:id="ast526" bindsTo="ast534">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast527" name="domainBottomUnSharedVars" eType="ast181" bindsTo="ast534" referredCollectionType="ast181" rest="ast536">
          <member xsi:type="ocl.ecore:VariableExp" xmi:id="ast528" referredVariable="ast536">
            <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast529" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast535">
      <pattern xmi:id="ast530" bindsTo="ast535 ast537">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast531" name="db" bindsTo="ast535">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast532">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast533" name="dbVars" eType="ast181" bindsTo="ast537" referredCollectionType="ast181"/>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast534" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast535" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast536" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast537" name="dbVars" eType="ast181"/>
    <where xmi:id="ast538" bindsTo="ast534 ast537">
      <predicate xmi:id="ast539">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast540" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast541" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast542" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast534"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast543" name="dbVars" eType="ast181" referredVariable="ast537"/>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast544" name="TopLevelRelationToMappingForEnforcement" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast545" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast619">
      <pattern xmi:id="ast546" bindsTo="ast619 ast646 ast637 ast648 ast649 ast638 ast650 ast639 ast651 ast652 ast653 ast654 ast655 ast640">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast547" name="r" bindsTo="ast619">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast548">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast549" name="rt" referredVariable="ast646">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
            </value>
          </part>
          <part xmi:id="ast550">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTRelation.Relation.isTopLevel"/>
            <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast551" booleanSymbol="true">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            </value>
          </part>
          <part xmi:id="ast552">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast553" name="rn" referredVariable="ast637">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast554">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast555" name="rds" eType="ast203" bindsTo="ast648" referredCollectionType="ast203" rest="ast640">
              <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast556" name="rd" bindsTo="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <part xmi:id="ast557">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                  <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast558" booleanSymbol="true">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  </value>
                </part>
                <part xmi:id="ast559">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast560" name="dn" referredVariable="ast638">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </value>
                </part>
                <part xmi:id="ast561">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast562" name="dir" bindsTo="ast650">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                    <part xmi:id="ast563">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast564" name="tmn" referredVariable="ast639">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <part xmi:id="ast565">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast566" name="up" bindsTo="ast651">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                        <referredClass href="QVT.ecore#EMOF.Package"/>
                      </value>
                    </part>
                    <part xmi:id="ast567">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast568" name="rt" referredVariable="ast646">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                  </value>
                </part>
                <part xmi:id="ast569">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast570" name="dp" bindsTo="ast652">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                    <part xmi:id="ast571">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                      <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast572" name="domainVars" eType="ast181" bindsTo="ast653" referredCollectionType="ast181"/>
                    </part>
                    <part xmi:id="ast573">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast574" name="te" bindsTo="ast654">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                        <part xmi:id="ast575">
                          <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                          <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast576" name="tev" bindsTo="ast655">
                            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                          </value>
                        </part>
                        <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
              </member>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast577" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast620">
      <pattern xmi:id="ast578" bindsTo="ast620 ast647 ast637 ast638 ast656 ast657 ast658 ast659 ast644 ast660 ast661 ast639 ast651 ast662 ast663 ast664">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast579" name="m" bindsTo="ast620">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast580">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast581" name="mt" referredVariable="ast647">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
            </value>
          </part>
          <part xmi:id="ast582">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast583">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast584">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast585" name="rn" referredVariable="ast637">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </source>
                <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast586" stringSymbol="_">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast587" name="dn" referredVariable="ast638">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast588">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast589" name="mg" bindsTo="ast656">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
              <part xmi:id="ast590">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast591" name="m" referredVariable="ast620">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
            </value>
          </part>
          <part xmi:id="ast592">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast593" name="mb" bindsTo="ast657">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast594">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast595" name="vs" eType="ast181" bindsTo="ast658" referredCollectionType="ast181" rest="ast644">
                  <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast596" name="tcv" bindsTo="ast659">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
                  </member>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <part xmi:id="ast597">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast598" name="md" bindsTo="ast660">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast599">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast600" name="dn" referredVariable="ast638">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast601">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast602" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast603">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast604" name="mdir" bindsTo="ast661">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast605">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast606" name="tmn" referredVariable="ast639">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast607">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast608" name="up" referredVariable="ast651">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast609">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast610" name="mt" referredVariable="ast647">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast611">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast612" name="dg" bindsTo="ast662">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast613">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast614" name="md" referredVariable="ast660">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <part xmi:id="ast615">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast616" name="db" bindsTo="ast663">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast617">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast618" name="mtev" bindsTo="ast664">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast619" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast620" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast621" name="allDomainVars" eType="ast181"/>
    <variable xmi:id="ast622" name="oppositeDomainVars" eType="ast181"/>
    <variable xmi:id="ast623" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast624" name="predicatesWithVarBindings" eType="ast182"/>
    <variable xmi:id="ast625" name="predicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast626" name="unsharedWhenVars" eType="ast181"/>
    <variable xmi:id="ast627" name="unsharedWhereVars" eType="ast181"/>
    <variable xmi:id="ast628" name="domainVarsSharedWithWhen" eType="ast181"/>
    <variable xmi:id="ast629" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast630" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast631" name="rdtSeq" eType="ast183"/>
    <variable xmi:id="ast632" name="relImplSeq" eType="ast183"/>
    <variable xmi:id="ast633" name="rdSet" eType="ast185"/>
    <variable xmi:id="ast634" name="rdVarsSeq" eType="ast186"/>
    <variable xmi:id="ast635" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast636" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast637" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast638" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast639" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast640" name="rOppositeDomains" eType="ast203"/>
    <variable xmi:id="ast641" name="oppDomainSeq" eType="ast183"/>
    <variable xmi:id="ast642" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast643" name="whereVars" eType="ast181"/>
    <variable xmi:id="ast644" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast645" name="rpSet" eType="ast182"/>
    <variable xmi:id="ast646" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast647" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast648" name="rds" eType="ast203"/>
    <variable xmi:id="ast649" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast650" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast651" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast652" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast653" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast654" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast655" name="tev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast656" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast657" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast658" name="vs" eType="ast181"/>
    <variable xmi:id="ast659" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast660" name="md">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast661" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast662" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast663" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast664" name="mtev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <when xmi:id="ast665" bindsTo="ast646 ast647">
      <predicate xmi:id="ast666">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast667" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast668" name="rt" referredVariable="ast646">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast669" name="mt" referredVariable="ast647">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast670" bindsTo="ast621 ast619 ast642 ast643 ast645 ast622 ast640 ast623 ast629 ast653 ast627 ast624 ast625 ast626 ast628 ast630 ast649 ast633 ast634 ast635 ast654 ast636 ast641 ast632 ast659 ast656 ast662 ast655 ast664 ast644 ast657 ast663 ast620">
      <predicate xmi:id="ast671">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast672">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast673" name="allDomainVars" eType="ast181" referredVariable="ast621"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast674" eType="ast181">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast675" name="collect" eType="ast191">
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast676" name="collect" eType="ast204">
                <source xsi:type="ocl.ecore:IterateExp" xmi:id="ast677" name="iterate" eType="ast203">
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast678" eType="ast188">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast679" name="r" referredVariable="ast619">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                  </source>
                  <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast680" eType="ast203">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast681" name="acc" eType="ast203" referredVariable="ast686"/>
                    <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast682">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast683" name="md" referredVariable="ast685">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast684" eType="ast190">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
                  </body>
                  <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast685" name="md">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </iterator>
                  <result xsi:type="ocl.ecore:Variable" xmi:id="ast686" name="acc" eType="ast203">
                    <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast687" eType="ast189"/>
                  </result>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast688">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast689" name="temp1" referredVariable="ast690">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast690" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </iterator>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast691" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast692" name="temp1" referredVariable="ast693">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast693" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/asSet"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast694">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast695">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast696" name="whenVars" eType="ast181" referredVariable="ast642"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast697" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast698">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast699" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast700">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast701">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast702" name="whereVars" eType="ast181" referredVariable="ast643"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast703" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast704">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast705" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast706">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast707">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast708" name="rpSet" eType="ast182" referredVariable="ast645"/>
          <argument xsi:type="ocl.ecore:IteratorExp" xmi:id="ast709" name="reject" eType="ast182">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast710" eType="ast182">
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast711">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast712" name="r" referredVariable="ast619">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            </source>
            <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast713">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast714">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast715" name="p" referredVariable="ast717">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast716" eType="ast196">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
            </body>
            <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast717" name="p">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
            </iterator>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast718">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast719">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast720" name="oppositeDomainVars" eType="ast181" referredVariable="ast622"/>
          <argument xsi:type="ocl.ecore:IterateExp" xmi:id="ast721" name="iterate" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast722" name="rOppositeDomains" eType="ast203" referredVariable="ast640"/>
            <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast723" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast724" name="vars" eType="ast181" referredVariable="ast731"/>
              <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast725" eType="ast181">
                <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast726">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast727">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast728" name="d" referredVariable="ast730">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                    </source>
                    <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast729" eType="ast190">
                      <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
            </body>
            <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast730" name="d">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </iterator>
            <result xsi:type="ocl.ecore:Variable" xmi:id="ast731" name="vars" eType="ast181">
              <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast732" eType="ast189"/>
            </result>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast733">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast734">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast735" name="sharedDomainVars" eType="ast181" referredVariable="ast623"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast736" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast737" name="r" referredVariable="ast619">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast738">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast739">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast740" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast629"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast741" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast742" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast743" name="domainVars" eType="ast181" referredVariable="ast653"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast744" name="whenVars" eType="ast181" referredVariable="ast642"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast745" name="sharedDomainVars" eType="ast181" referredVariable="ast623"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast746">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast747">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast748" name="unsharedWhereVars" eType="ast181" referredVariable="ast627"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast749" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast750" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast751" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast752" name="whereVars" eType="ast181" referredVariable="ast643"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast753" name="whenVars" eType="ast181" referredVariable="ast642"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast754" name="allDomainVars" eType="ast181" referredVariable="ast621"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast755" name="sharedDomainVars" eType="ast181" referredVariable="ast623"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast756">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast757">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast758" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast624"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast759" name="filterOutPredicatesThatReferToVars" eType="ast182" referredOperation="ast128">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast760" name="rpSet" eType="ast182" referredVariable="ast645"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast761" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast629"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast762">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast763">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast764" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast625"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast765" eType="ast182">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast766" name="rpSet" eType="ast182" referredVariable="ast645"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast767" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast624"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast768">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast769">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast770" name="unsharedWhenVars" eType="ast181" referredVariable="ast626"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast771" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast772" name="whenVars" eType="ast181" referredVariable="ast642"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast773" name="allDomainVars" eType="ast181" referredVariable="ast621"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast774">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast775">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast776" name="domainVarsSharedWithWhen" eType="ast181" referredVariable="ast628"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast777" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast778" name="domainVars" eType="ast181" referredVariable="ast653"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast779" name="whenVars" eType="ast181" referredVariable="ast642"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast780">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast781">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast782" name="rdSeq" eType="ast183" referredVariable="ast630"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast783" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast784">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast785" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast786">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast787" name="rd" referredVariable="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast788">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast789">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast790" name="rdSet" eType="ast185" referredVariable="ast633"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast791" eType="ast206">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast792">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast793" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast794">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast795" name="rd" referredVariable="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast796">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast797">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast798" name="rdVarsSeq" eType="ast186" referredVariable="ast634"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast799" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast800" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast801" name="rdSet" eType="ast185" referredVariable="ast633"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast802" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast803" name="oppositeDomainVars" eType="ast181" referredVariable="ast622"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast804">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast805">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast806" name="rdtSet" eType="ast185" referredVariable="ast635"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast807" eType="ast206">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast808">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast809" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast810">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast811" name="rd" referredVariable="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast812">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast813" name="te" referredVariable="ast654">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast814">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast815">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast816" name="rdtVarsSeq" eType="ast186" referredVariable="ast636"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast817" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast818" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast819" name="rdtSet" eType="ast185" referredVariable="ast635"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast820" eType="ast182">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast821" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast625"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast822" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast823" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast629"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast824">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast825">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast826" name="oppDomainSeq" eType="ast183" referredVariable="ast641"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast827" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast828">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast829" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast830">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast831" name="rd" referredVariable="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast832">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast833">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast834" name="relImplSeq" eType="ast183" referredVariable="ast632"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast835" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast836">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast837" name="r" referredVariable="ast619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast838">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast839" name="rd" referredVariable="ast649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast840">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast841" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast842" name="rdSeq" eType="ast183" referredVariable="ast630"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast843" name="tcv" referredVariable="ast659">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast844">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast845" referredRelation="ast1889">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast846" name="r" referredVariable="ast619">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast847" name="mg" referredVariable="ast656">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast848">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast849" referredRelation="ast504">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast850" name="domainVarsSharedWithWhen" eType="ast181" referredVariable="ast628"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast851" name="dg" referredVariable="ast662">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast852">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast853" referredRelation="ast2047">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast854" name="tev" referredVariable="ast655">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast855" name="mtev" referredVariable="ast664">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast856">
        <conditionExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast857">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast858">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast859" name="unsharedWhereVars" eType="ast181" referredVariable="ast627"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast860">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast861" name="mbVars" eType="ast181" referredVariable="ast644"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast862" eType="ast189"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
          </thenExpression>
          <elseExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast863" referredRelation="ast1948">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast864" eType="ast184">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast865" name="unsharedWhereVars" eType="ast181" referredVariable="ast627"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast866" name="mbVars" eType="ast181" referredVariable="ast644"/>
          </elseExpression>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast867">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast868" referredRelation="ast2680">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast869" eType="ast187">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast870" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast624"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast871" name="mb" referredVariable="ast657">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast872">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast873" referredRelation="ast2377">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast874" name="rdtVarsSeq" eType="ast186" referredVariable="ast636"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast875" name="db" referredVariable="ast663">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast876">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast877" referredRelation="ast3949">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast878" name="rdVarsSeq" eType="ast186" referredVariable="ast634"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast879" name="mb" referredVariable="ast657">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast880">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast881" referredRelation="ast1732">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast882" name="oppDomainSeq" eType="ast183" referredVariable="ast641"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast883" name="m" referredVariable="ast620">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast884">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast885" referredRelation="ast4019">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast886" name="relImplSeq" eType="ast183" referredVariable="ast632"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast887" name="mb" referredVariable="ast657">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast888" name="InvokedRelationToMappingForChecking" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast889" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast937">
      <pattern xmi:id="ast890" bindsTo="ast937 ast946 ast943 ast950 ast951 ast952 ast953 ast944">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast891" name="r" bindsTo="ast937">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast892">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast893" name="exists">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast894" eType="ast188">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast895" name="r" referredVariable="ast937">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
              </source>
              <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast896">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast897">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast898" name="d" referredVariable="ast900">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                </source>
                <argument xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast899" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/="/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast900" name="d">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <part xmi:id="ast901">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast902" name="rt" referredVariable="ast946">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
            </value>
          </part>
          <part xmi:id="ast903">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTRelation.Relation.isTopLevel"/>
            <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast904" booleanSymbol="false">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            </value>
          </part>
          <part xmi:id="ast905">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast906" name="rn" referredVariable="ast943">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast907" isOpposite="true">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.referredRelation"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast908" name="ri" bindsTo="ast950">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              <part xmi:id="ast909" isOpposite="true">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast910" name="p" bindsTo="ast951">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                  <part xmi:id="ast911">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.pattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast912" name="pt" bindsTo="ast952">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
                      <part xmi:id="ast913" isOpposite="true">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast914" name="ir" bindsTo="ast953">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                          <part xmi:id="ast915">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast916" name="irn" referredVariable="ast944">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTBase.Pattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.Predicate"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationCallExp"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast917" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast938">
      <pattern xmi:id="ast918" bindsTo="ast938 ast947 ast943 ast944 ast954 ast955 ast956 ast957 ast945">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast919" name="m" bindsTo="ast938">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast920">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast921" name="mt" referredVariable="ast947">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
            </value>
          </part>
          <part xmi:id="ast922">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast923">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast924">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast925" name="rn" referredVariable="ast943">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </source>
                <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast926" stringSymbol="_">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast927" name="irn" referredVariable="ast944">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast928">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast929" name="mg" bindsTo="ast954">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
              <part xmi:id="ast930">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast931" name="m" referredVariable="ast938">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
            </value>
          </part>
          <part xmi:id="ast932">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast933" name="mb" bindsTo="ast955">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast934">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast935" name="vs" eType="ast181" bindsTo="ast956" referredCollectionType="ast181" rest="ast945">
                  <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast936" name="tcv" bindsTo="ast957">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
                  </member>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast937" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast938" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast939" name="allDomainVars" eType="ast181"/>
    <variable xmi:id="ast940" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast941" name="unsharedWhereVars" eType="ast181"/>
    <variable xmi:id="ast942" name="seqForInvoker" eType="ast183"/>
    <variable xmi:id="ast943" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast944" name="irn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast945" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast946" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast947" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast948" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast949" name="whereVars" eType="ast181"/>
    <variable xmi:id="ast950" name="ri">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
    </variable>
    <variable xmi:id="ast951" name="p">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast952" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast953" name="ir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast954" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast955" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast956" name="vs" eType="ast181"/>
    <variable xmi:id="ast957" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <when xmi:id="ast958" bindsTo="ast946 ast947">
      <predicate xmi:id="ast959">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast960" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast961" name="rt" referredVariable="ast946">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast962" name="mt" referredVariable="ast947">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast963" bindsTo="ast939 ast937 ast948 ast949 ast940 ast941 ast942 ast953 ast950 ast957 ast954 ast945 ast955 ast938">
      <predicate xmi:id="ast964">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast965">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast966" name="allDomainVars" eType="ast181" referredVariable="ast939"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast967" eType="ast181">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast968" name="collect" eType="ast191">
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast969" name="collect" eType="ast204">
                <source xsi:type="ocl.ecore:IterateExp" xmi:id="ast970" name="iterate" eType="ast203">
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast971" eType="ast188">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast972" name="r" referredVariable="ast937">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                  </source>
                  <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast973" eType="ast203">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast974" name="acc" eType="ast203" referredVariable="ast979"/>
                    <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast975">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast976" name="md" referredVariable="ast978">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast977" eType="ast190">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
                  </body>
                  <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast978" name="md">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </iterator>
                  <result xsi:type="ocl.ecore:Variable" xmi:id="ast979" name="acc" eType="ast203">
                    <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast980" eType="ast189"/>
                  </result>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast981">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast982" name="temp1" referredVariable="ast983">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast983" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </iterator>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast984" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast985" name="temp1" referredVariable="ast986">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast986" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/asSet"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast987">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast988">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast989" name="whenVars" eType="ast181" referredVariable="ast948"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast990" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast991">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast992" name="r" referredVariable="ast937">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast993">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast994">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast995" name="whereVars" eType="ast181" referredVariable="ast949"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast996" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast997">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast998" name="r" referredVariable="ast937">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast999">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1000">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1001" name="sharedDomainVars" eType="ast181" referredVariable="ast940"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1002" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1003" name="r" referredVariable="ast937">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1004">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1005">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1006" name="unsharedWhereVars" eType="ast181" referredVariable="ast941"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1007" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1008" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1009" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1010" name="whereVars" eType="ast181" referredVariable="ast949"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1011" name="whenVars" eType="ast181" referredVariable="ast948"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1012" name="allDomainVars" eType="ast181" referredVariable="ast939"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1013" name="sharedDomainVars" eType="ast181" referredVariable="ast940"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1014">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1015">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1016" name="seqForInvoker" eType="ast183" referredVariable="ast942"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1017" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1018">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1019" name="ir" referredVariable="ast953">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1020">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1021" name="ri" referredVariable="ast950">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1022">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1023" name="r" referredVariable="ast937">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1024">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1025" referredRelation="ast4099">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1026" name="r" referredVariable="ast937">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1027" name="tcv" referredVariable="ast957">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1028">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1029" referredRelation="ast1889">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1030" name="r" referredVariable="ast937">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1031" name="mg" referredVariable="ast954">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1032">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1033" referredRelation="ast2219">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1034" name="seqForInvoker" eType="ast183" referredVariable="ast942"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1035" name="mg" referredVariable="ast954">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1036">
        <conditionExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast1037">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1038">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1039" name="unsharedWhereVars" eType="ast181" referredVariable="ast941"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1040">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1041" name="mbVars" eType="ast181" referredVariable="ast945"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1042" eType="ast189"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
          </thenExpression>
          <elseExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1043" referredRelation="ast1948">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1044" eType="ast184">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1045" name="unsharedWhereVars" eType="ast181" referredVariable="ast941"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1046" name="mbVars" eType="ast181" referredVariable="ast945"/>
          </elseExpression>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1047">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1048" referredRelation="ast467">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1049" name="r" referredVariable="ast937">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1050" name="mb" referredVariable="ast955">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1051">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1052" referredRelation="ast1433">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1053" name="r" referredVariable="ast937">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1054" name="m" referredVariable="ast938">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1055" name="InvokedRelationToMappingForEnforcement" isTopLevel="true">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1056" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1144">
      <pattern xmi:id="ast1057" bindsTo="ast1144 ast1172 ast1162 ast1174 ast1175 ast1176 ast1177 ast1163 ast1178 ast1179 ast1164 ast1180 ast1165 ast1181 ast1182 ast1183 ast1184 ast1185 ast1166">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1058" name="r" bindsTo="ast1144">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast1059">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1060" name="rt" referredVariable="ast1172">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
            </value>
          </part>
          <part xmi:id="ast1061">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTRelation.Relation.isTopLevel"/>
            <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1062" booleanSymbol="false">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            </value>
          </part>
          <part xmi:id="ast1063">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1064" name="rn" referredVariable="ast1162">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast1065" isOpposite="true">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.referredRelation"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1066" name="ri" bindsTo="ast1174">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              <part xmi:id="ast1067" isOpposite="true">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1068" name="p" bindsTo="ast1175">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                  <part xmi:id="ast1069">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.pattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1070" name="pt" bindsTo="ast1176">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
                      <part xmi:id="ast1071" isOpposite="true">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1072" name="ir" bindsTo="ast1177">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                          <part xmi:id="ast1073">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1074" name="irn" referredVariable="ast1163">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTBase.Pattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.Predicate"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationCallExp"/>
            </value>
          </part>
          <part xmi:id="ast1075">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1076" name="rds" eType="ast203" bindsTo="ast1178" referredCollectionType="ast203" rest="ast1166">
              <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1077" name="rd" bindsTo="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <part xmi:id="ast1078">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                  <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1079" booleanSymbol="true">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  </value>
                </part>
                <part xmi:id="ast1080">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1081" name="dn" referredVariable="ast1164">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </value>
                </part>
                <part xmi:id="ast1082">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1083" name="dir" bindsTo="ast1180">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                    <part xmi:id="ast1084">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1085" name="tmn" referredVariable="ast1165">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <part xmi:id="ast1086">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1087" name="up" bindsTo="ast1181">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                        <referredClass href="QVT.ecore#EMOF.Package"/>
                      </value>
                    </part>
                    <part xmi:id="ast1088">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1089" name="rt" referredVariable="ast1172">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                  </value>
                </part>
                <part xmi:id="ast1090">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1091" name="dp" bindsTo="ast1182">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                    <part xmi:id="ast1092">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                      <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1093" name="domainVars" eType="ast181" bindsTo="ast1183" referredCollectionType="ast181"/>
                    </part>
                    <part xmi:id="ast1094">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1095" name="te" bindsTo="ast1184">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                        <part xmi:id="ast1096">
                          <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                          <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1097" name="tev" bindsTo="ast1185">
                            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                          </value>
                        </part>
                        <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
              </member>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1098" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1145">
      <pattern xmi:id="ast1099" bindsTo="ast1145 ast1173 ast1162 ast1163 ast1164 ast1186 ast1187 ast1188 ast1189 ast1170 ast1190 ast1191 ast1165 ast1181 ast1192 ast1193 ast1194">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1100" name="m" bindsTo="ast1145">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast1101">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1102" name="mt" referredVariable="ast1173">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
            </value>
          </part>
          <part xmi:id="ast1103">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1104">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1105">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1106">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1107">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1108" name="rn" referredVariable="ast1162">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </source>
                    <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast1109" stringSymbol="_">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                  </source>
                  <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1110" name="irn" referredVariable="ast1163">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </source>
                <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast1111" stringSymbol="_">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1112" name="dn" referredVariable="ast1164">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast1113">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1114" name="mg" bindsTo="ast1186">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
              <part xmi:id="ast1115">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1116" name="m" referredVariable="ast1145">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
            </value>
          </part>
          <part xmi:id="ast1117">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1118" name="mb" bindsTo="ast1187">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast1119">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1120" name="vs" eType="ast181" bindsTo="ast1188" referredCollectionType="ast181" rest="ast1170">
                  <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1121" name="tcv" bindsTo="ast1189">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
                  </member>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <part xmi:id="ast1122">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1123" name="md" bindsTo="ast1190">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast1124">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1125" name="dn" referredVariable="ast1164">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast1126">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1127" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1128">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1129" name="mdir" bindsTo="ast1191">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast1130">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1131" name="tmn" referredVariable="ast1165">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1132">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1133" name="up" referredVariable="ast1181">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast1134">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1135" name="mt" referredVariable="ast1173">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast1136">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1137" name="dg" bindsTo="ast1192">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast1138">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1139" name="dgVars" eType="ast181" bindsTo="ast1193" referredCollectionType="ast181"/>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <part xmi:id="ast1140">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1141" name="db" bindsTo="ast1194">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast1142">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1143" name="md" referredVariable="ast1190">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1144" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1145" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast1146" name="allDomainVars" eType="ast181"/>
    <variable xmi:id="ast1147" name="oppositeDomainVars" eType="ast181"/>
    <variable xmi:id="ast1148" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast1149" name="predicatesWithVarBindings" eType="ast182"/>
    <variable xmi:id="ast1150" name="predicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast1151" name="unsharedWhenVars" eType="ast181"/>
    <variable xmi:id="ast1152" name="unsharedWhereVars" eType="ast181"/>
    <variable xmi:id="ast1153" name="domainTopVars" eType="ast181"/>
    <variable xmi:id="ast1154" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast1155" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast1156" name="relImplSeq" eType="ast183"/>
    <variable xmi:id="ast1157" name="rdSet" eType="ast185"/>
    <variable xmi:id="ast1158" name="rdVarsSeq" eType="ast186"/>
    <variable xmi:id="ast1159" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast1160" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast1161" name="seqForInvoker" eType="ast183"/>
    <variable xmi:id="ast1162" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1163" name="irn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1164" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1165" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1166" name="rOppositeDomains" eType="ast203"/>
    <variable xmi:id="ast1167" name="oppDomainSeq" eType="ast183"/>
    <variable xmi:id="ast1168" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast1169" name="whereVars" eType="ast181"/>
    <variable xmi:id="ast1170" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast1171" name="rpSet" eType="ast182"/>
    <variable xmi:id="ast1172" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast1173" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast1174" name="ri">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
    </variable>
    <variable xmi:id="ast1175" name="p">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast1176" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast1177" name="ir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1178" name="rds" eType="ast203"/>
    <variable xmi:id="ast1179" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1180" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1181" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast1182" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast1183" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast1184" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast1185" name="tev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast1186" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1187" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1188" name="vs" eType="ast181"/>
    <variable xmi:id="ast1189" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast1190" name="md">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast1191" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1192" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1193" name="dgVars" eType="ast181"/>
    <variable xmi:id="ast1194" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <when xmi:id="ast1195" bindsTo="ast1172 ast1173">
      <predicate xmi:id="ast1196">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1197" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1198" name="rt" referredVariable="ast1172">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1199" name="mt" referredVariable="ast1173">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast1200" bindsTo="ast1146 ast1144 ast1168 ast1169 ast1171 ast1147 ast1166 ast1148 ast1154 ast1183 ast1185 ast1152 ast1149 ast1150 ast1151 ast1153 ast1155 ast1179 ast1157 ast1158 ast1159 ast1184 ast1160 ast1167 ast1177 ast1161 ast1174 ast1156 ast1189 ast1170 ast1187 ast1186 ast1193 ast1194 ast1145">
      <predicate xmi:id="ast1201">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1202">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1203" name="allDomainVars" eType="ast181" referredVariable="ast1146"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1204" eType="ast181">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast1205" name="collect" eType="ast191">
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast1206" name="collect" eType="ast204">
                <source xsi:type="ocl.ecore:IterateExp" xmi:id="ast1207" name="iterate" eType="ast203">
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1208" eType="ast188">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1209" name="r" referredVariable="ast1144">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                  </source>
                  <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1210" eType="ast203">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1211" name="acc" eType="ast203" referredVariable="ast1216"/>
                    <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1212">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1213" name="md" referredVariable="ast1215">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast1214" eType="ast190">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
                  </body>
                  <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1215" name="md">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </iterator>
                  <result xsi:type="ocl.ecore:Variable" xmi:id="ast1216" name="acc" eType="ast203">
                    <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1217" eType="ast189"/>
                  </result>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1218">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1219" name="temp1" referredVariable="ast1220">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1220" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </iterator>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1221" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1222" name="temp1" referredVariable="ast1223">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1223" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/asSet"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1224">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1225">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1226" name="whenVars" eType="ast181" referredVariable="ast1168"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1227" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1228">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1229" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1230">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1231">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1232" name="whereVars" eType="ast181" referredVariable="ast1169"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1233" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1234">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1235" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1236">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1237">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1238" name="rpSet" eType="ast182" referredVariable="ast1171"/>
          <argument xsi:type="ocl.ecore:IteratorExp" xmi:id="ast1239" name="reject" eType="ast182">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1240" eType="ast182">
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1241">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1242" name="r" referredVariable="ast1144">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.where"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            </source>
            <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1243">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1244">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1245" name="p" referredVariable="ast1247">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast1246" eType="ast196">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
            </body>
            <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1247" name="p">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
            </iterator>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1248">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1249">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1250" name="oppositeDomainVars" eType="ast181" referredVariable="ast1147"/>
          <argument xsi:type="ocl.ecore:IterateExp" xmi:id="ast1251" name="iterate" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1252" name="rOppositeDomains" eType="ast203" referredVariable="ast1166"/>
            <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1253" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1254" name="vars" eType="ast181" referredVariable="ast1259"/>
              <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1255" eType="ast181">
                <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1256">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1257" name="d" referredVariable="ast1258">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
            </body>
            <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1258" name="d">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </iterator>
            <result xsi:type="ocl.ecore:Variable" xmi:id="ast1259" name="vars" eType="ast181">
              <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1260" eType="ast189"/>
            </result>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1261">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1262">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1263" name="sharedDomainVars" eType="ast181" referredVariable="ast1148"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1264" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1265" name="r" referredVariable="ast1144">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1266">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1267">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1268" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1154"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1269" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1270" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1271" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1272" name="domainVars" eType="ast181" referredVariable="ast1183"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1273" name="whenVars" eType="ast181" referredVariable="ast1168"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1274" name="sharedDomainVars" eType="ast181" referredVariable="ast1148"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1275" name="tev" referredVariable="ast1185">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/excluding"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1276">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1277">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1278" name="unsharedWhereVars" eType="ast181" referredVariable="ast1152"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1279" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1280" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1281" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1282" name="whereVars" eType="ast181" referredVariable="ast1169"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1283" name="whenVars" eType="ast181" referredVariable="ast1168"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1284" name="allDomainVars" eType="ast181" referredVariable="ast1146"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1285" name="sharedDomainVars" eType="ast181" referredVariable="ast1148"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/union.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1286">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1287">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1288" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast1149"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1289" name="filterOutPredicatesThatReferToVars" eType="ast182" referredOperation="ast128">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1290" name="rpSet" eType="ast182" referredVariable="ast1171"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1291" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1154"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1292">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1293">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1294" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast1150"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1295" eType="ast182">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1296" name="rpSet" eType="ast182" referredVariable="ast1171"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1297" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast1149"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1298">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1299">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1300" name="unsharedWhenVars" eType="ast181" referredVariable="ast1151"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1301" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1302" name="whenVars" eType="ast181" referredVariable="ast1168"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1303" name="allDomainVars" eType="ast181" referredVariable="ast1146"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1304">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1305">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1306" name="domainTopVars" eType="ast181" referredVariable="ast1153"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1307" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1308" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1309" name="domainVars" eType="ast181" referredVariable="ast1183"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1310" name="whenVars" eType="ast181" referredVariable="ast1168"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1311" name="tev" referredVariable="ast1185">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1312">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1313">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1314" name="rdSeq" eType="ast183" referredVariable="ast1155"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1315" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1316">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1317" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1318">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1319" name="rd" referredVariable="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1320">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1321">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1322" name="rdSet" eType="ast185" referredVariable="ast1157"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1323" eType="ast206">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1324">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1325" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1326">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1327" name="rd" referredVariable="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1328">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1329">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1330" name="rdVarsSeq" eType="ast186" referredVariable="ast1158"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1331" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1332" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1333" name="rdSet" eType="ast185" referredVariable="ast1157"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1334" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1335" name="oppositeDomainVars" eType="ast181" referredVariable="ast1147"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1336">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1337">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1338" name="rdtSet" eType="ast185" referredVariable="ast1159"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1339" eType="ast206">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1340">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1341" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1342">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1343" name="rd" referredVariable="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1344">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1345" name="te" referredVariable="ast1184">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1346">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1347">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1348" name="rdtVarsSeq" eType="ast186" referredVariable="ast1160"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1349" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1350" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1351" name="rdtSet" eType="ast185" referredVariable="ast1159"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1352" eType="ast182">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1353" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast1150"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1354" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1355" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1154"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1356">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1357">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1358" name="oppDomainSeq" eType="ast183" referredVariable="ast1167"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1359" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1360">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1361" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1362">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1363" name="ir" referredVariable="ast1177">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1364">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1365" name="rd" referredVariable="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1366">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1367">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1368" name="seqForInvoker" eType="ast183" referredVariable="ast1161"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1369" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1370">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1371" name="ir" referredVariable="ast1177">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1372">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1373" name="ri" referredVariable="ast1174">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1374">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1375" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1376">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1377">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1378" name="relImplSeq" eType="ast183" referredVariable="ast1156"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1379" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1380">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1381" name="r" referredVariable="ast1144">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1382">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1383" name="rd" referredVariable="ast1179">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1384">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1385" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1386" name="rdSeq" eType="ast183" referredVariable="ast1155"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1387" name="tcv" referredVariable="ast1189">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1388">
        <conditionExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast1389">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1390">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1391" name="unsharedWhereVars" eType="ast181" referredVariable="ast1152"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1392">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1393" name="mbVars" eType="ast181" referredVariable="ast1170"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1394" eType="ast189"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
          </thenExpression>
          <elseExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1395" referredRelation="ast1948">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1396" eType="ast184">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1397" name="unsharedWhereVars" eType="ast181" referredVariable="ast1152"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1398" name="mbVars" eType="ast181" referredVariable="ast1170"/>
          </elseExpression>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1399">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1400" referredRelation="ast2680">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1401" eType="ast187">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1402" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast1149"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1403" name="mb" referredVariable="ast1187">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1404">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1405" referredRelation="ast1889">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1406" name="r" referredVariable="ast1144">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1407" name="mg" referredVariable="ast1186">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1408">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1409" referredRelation="ast2219">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1410" name="seqForInvoker" eType="ast183" referredVariable="ast1161"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1411" name="mg" referredVariable="ast1186">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1412">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1413" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1414" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1415" name="domainTopVars" eType="ast181" referredVariable="ast1153"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1416" name="dgVars" eType="ast181" referredVariable="ast1193"/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1417">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1418" referredRelation="ast2377">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1419" name="rdtVarsSeq" eType="ast186" referredVariable="ast1160"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1420" name="db" referredVariable="ast1194">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1421">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1422" referredRelation="ast3949">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1423" name="rdVarsSeq" eType="ast186" referredVariable="ast1158"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1424" name="mb" referredVariable="ast1187">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1425">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1426" referredRelation="ast1563">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1427" name="oppDomainSeq" eType="ast183" referredVariable="ast1167"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1428" name="m" referredVariable="ast1145">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1429">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1430" referredRelation="ast4019">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1431" name="relImplSeq" eType="ast183" referredVariable="ast1156"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1432" name="mb" referredVariable="ast1187">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1433" name="RDomainToMDomainForChecking" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1434" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1486">
      <pattern xmi:id="ast1435" bindsTo="ast1486 ast1497 ast1493 ast1498 ast1494 ast1499 ast1495 ast1500 ast1501 ast1502">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1436" name="r" bindsTo="ast1486">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast1437">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1438" name="rd" bindsTo="ast1497">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <part xmi:id="ast1439">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1440" name="dn" referredVariable="ast1493">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast1441">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1442" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1443">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1444" name="dir" bindsTo="ast1498">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast1445">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1446" name="tmn" referredVariable="ast1494">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1447">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1448" name="up" bindsTo="ast1499">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                      <referredClass href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast1449">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1450" name="rt" referredVariable="ast1495">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast1451">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1452" name="dp" bindsTo="ast1500">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <part xmi:id="ast1453">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1454" name="domainVars" eType="ast181" bindsTo="ast1501" referredCollectionType="ast181"/>
                  </part>
                  <part xmi:id="ast1455">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1456" name="te" bindsTo="ast1502">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                      <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1457" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1487">
      <pattern xmi:id="ast1458" bindsTo="ast1487 ast1503 ast1504 ast1493 ast1505 ast1494 ast1499 ast1496 ast1506 ast1507">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1459" name="m" bindsTo="ast1487">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast1460">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1461" name="mb" bindsTo="ast1503">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast1462">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1463" name="m" referredVariable="ast1487">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <part xmi:id="ast1464">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1465" name="md" bindsTo="ast1504">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast1466">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1467" name="dn" referredVariable="ast1493">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast1468">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1469" booleanSymbol="true">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1470">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1471" name="mdir" bindsTo="ast1505">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast1472">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1473" name="tmn" referredVariable="ast1494">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1474">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1475" name="up" referredVariable="ast1499">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast1476">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1477" name="mt" referredVariable="ast1496">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast1478">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1479" name="dg" bindsTo="ast1506">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast1480">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1481" name="md" referredVariable="ast1504">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <part xmi:id="ast1482">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1483" name="db" bindsTo="ast1507">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast1484">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1485" name="md" referredVariable="ast1504">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1486" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1487" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast1488" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast1489" name="domainVarsSharedWithWhen" eType="ast181"/>
    <variable xmi:id="ast1490" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast1491" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast1492" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast1493" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1494" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1495" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast1496" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast1497" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1498" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1499" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast1500" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast1501" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast1502" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast1503" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1504" name="md">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast1505" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1506" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1507" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <when xmi:id="ast1508" bindsTo="ast1495 ast1496">
      <predicate xmi:id="ast1509">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1510" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1511" name="rt" referredVariable="ast1495">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1512" name="mt" referredVariable="ast1496">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast1513" bindsTo="ast1492 ast1486 ast1488 ast1489 ast1501 ast1490 ast1491 ast1502 ast1506 ast1507 ast1497 ast1503">
      <predicate xmi:id="ast1514">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1515">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1516" name="whenVars" eType="ast181" referredVariable="ast1492"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1517" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1518">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1519" name="r" referredVariable="ast1486">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1520">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1521">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1522" name="sharedDomainVars" eType="ast181" referredVariable="ast1488"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1523" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1524" name="r" referredVariable="ast1486">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1525">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1526">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1527" name="domainVarsSharedWithWhen" eType="ast181" referredVariable="ast1489"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1528" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1529" name="domainVars" eType="ast181" referredVariable="ast1501"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1530" name="whenVars" eType="ast181" referredVariable="ast1492"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1531">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1532">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1533" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1490"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1534" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1535" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1536" name="domainVars" eType="ast181" referredVariable="ast1501"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1537" name="whenVars" eType="ast181" referredVariable="ast1492"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1538" name="sharedDomainVars" eType="ast181" referredVariable="ast1488"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1539">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1540">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1541" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1491"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1542" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1543">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1544" name="r" referredVariable="ast1486">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1545">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1546" name="te" referredVariable="ast1502">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1547">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1548" referredRelation="ast504">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1549" name="domainVarsSharedWithWhen" eType="ast181" referredVariable="ast1489"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1550" name="dg" referredVariable="ast1506">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1551">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1552" referredRelation="ast524">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1553" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1490"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1554" name="db" referredVariable="ast1507">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1555">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1556" referredRelation="ast2340">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1557" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1491"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1558" name="db" referredVariable="ast1507">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1559">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1560" referredRelation="ast3890">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1561" name="rd" referredVariable="ast1497">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1562" name="mb" referredVariable="ast1503">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1563" name="IROppositeDomainsToMappingForEnforcement" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1564" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1627">
      <pattern xmi:id="ast1565" bindsTo="ast1627 ast1643 ast1644 ast1645 ast1634 ast1646 ast1635 ast1641 ast1639 ast1636 ast1647 ast1648 ast1649 ast1650 ast1651 ast1652">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1566" name="oppDomainSeq" eType="ast183" bindsTo="ast1627" referredCollectionType="ast183" rest="ast1642">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1567">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1568" name="ord" referredVariable="ast1645">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1569" name="rd" referredVariable="ast1652">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/%3C%3E"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1570" name="r" bindsTo="ast1643">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast1571">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
              <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1572" name="rds" eType="ast203" bindsTo="ast1644" referredCollectionType="ast203" rest="ast1642">
                <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1573" name="ord" bindsTo="ast1645">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <part xmi:id="ast1574">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1575" name="dn" referredVariable="ast1634">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1576">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1577" name="dir" bindsTo="ast1646">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                      <part xmi:id="ast1578">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1579" name="tmn" referredVariable="ast1635">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <part xmi:id="ast1580">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1581" name="up" referredVariable="ast1641">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                        </value>
                      </part>
                      <part xmi:id="ast1582">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1583" name="rt" referredVariable="ast1639">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                    </value>
                  </part>
                  <part xmi:id="ast1584">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1585" name="c" referredVariable="ast1636">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                    </value>
                  </part>
                  <part xmi:id="ast1586">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1587" name="dp" bindsTo="ast1647">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                      <part xmi:id="ast1588">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                        <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1589" name="domainVars" eType="ast181" bindsTo="ast1648" referredCollectionType="ast181"/>
                      </part>
                      <part xmi:id="ast1590">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1591" name="te" bindsTo="ast1649">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                          <part xmi:id="ast1592">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1593" name="tev" bindsTo="ast1650">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
                </member>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1594" name="ir" bindsTo="ast1651">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1595" name="rd" bindsTo="ast1652">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1596" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1628">
      <pattern xmi:id="ast1597" bindsTo="ast1628 ast1653 ast1634 ast1654 ast1635 ast1641 ast1640 ast1636 ast1655 ast1656 ast1657 ast1658 ast1659">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1598" name="m" bindsTo="ast1628">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast1599">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1600" name="cd" bindsTo="ast1653">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast1601">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1602" name="dn" referredVariable="ast1634">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast1603">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1604" name="mdir" bindsTo="ast1654">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast1605">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1606" name="tmn" referredVariable="ast1635">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1607">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1608" name="up" referredVariable="ast1641">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast1609">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1610" name="mt" referredVariable="ast1640">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast1611">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1612" name="c" referredVariable="ast1636">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1613">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1614" booleanSymbol="false">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1615">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1616" name="dg" bindsTo="ast1655">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast1617">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1618" name="dgVars" eType="ast181" bindsTo="ast1656" referredCollectionType="ast181"/>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <part xmi:id="ast1619">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1620" name="db" bindsTo="ast1657">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast1621">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1622" name="dbVars" eType="ast181" bindsTo="ast1658" referredCollectionType="ast181"/>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <part xmi:id="ast1623">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1624" name="mb" bindsTo="ast1659">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast1625">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1626" name="m" referredVariable="ast1628">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1627" name="oppDomainSeq" eType="ast183"/>
    <variable xmi:id="ast1628" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast1629" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast1630" name="domainTopVars" eType="ast181"/>
    <variable xmi:id="ast1631" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast1632" name="domainBottomSharedVars" eType="ast181"/>
    <variable xmi:id="ast1633" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast1634" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1635" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1636" name="c">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
    </variable>
    <variable xmi:id="ast1637" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast1638" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast1639" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast1640" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast1641" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast1642" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast1643" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1644" name="rds" eType="ast203"/>
    <variable xmi:id="ast1645" name="ord">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1646" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1647" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast1648" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast1649" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast1650" name="tev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast1651" name="ir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1652" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1653" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast1654" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1655" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1656" name="dgVars" eType="ast181"/>
    <variable xmi:id="ast1657" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1658" name="dbVars" eType="ast181"/>
    <variable xmi:id="ast1659" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <when xmi:id="ast1660" bindsTo="ast1639 ast1640">
      <predicate xmi:id="ast1661">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1662" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1663" name="rt" referredVariable="ast1639">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1664" name="mt" referredVariable="ast1640">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast1665" bindsTo="ast1638 ast1643 ast1630 ast1648 ast1650 ast1629 ast1631 ast1632 ast1633 ast1649 ast1656 ast1658 ast1659 ast1657">
      <predicate xmi:id="ast1666">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1667">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1668" name="whenVars" eType="ast181" referredVariable="ast1638"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1669" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1670">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1671" name="r" referredVariable="ast1643">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1672">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1673">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1674" name="domainTopVars" eType="ast181" referredVariable="ast1630"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1675" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1676" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1677" name="domainVars" eType="ast181" referredVariable="ast1648"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1678" name="whenVars" eType="ast181" referredVariable="ast1638"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1679" name="tev" referredVariable="ast1650">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1680">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1681">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1682" name="sharedDomainVars" eType="ast181" referredVariable="ast1629"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1683" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1684" name="r" referredVariable="ast1643">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1685">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1686">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1687" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1631"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1688" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1689" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1690" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1691" name="domainVars" eType="ast181" referredVariable="ast1648"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1692" name="whenVars" eType="ast181" referredVariable="ast1638"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1693" name="sharedDomainVars" eType="ast181" referredVariable="ast1629"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1694" name="tev" referredVariable="ast1650">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/excluding"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1695">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1696">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1697" name="domainBottomSharedVars" eType="ast181" referredVariable="ast1632"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1698" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1699" eType="ast181">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1700" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1701" name="domainVars" eType="ast181" referredVariable="ast1648"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1702" name="whenVars" eType="ast181" referredVariable="ast1638"/>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1703" name="sharedDomainVars" eType="ast181" referredVariable="ast1629"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1704" name="tev" referredVariable="ast1650">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/excluding"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1705">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1706">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1707" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1633"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1708" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1709">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1710" name="r" referredVariable="ast1643">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1711">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1712" name="te" referredVariable="ast1649">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1713">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1714" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1715" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1716" name="domainTopVars" eType="ast181" referredVariable="ast1630"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1717" name="dgVars" eType="ast181" referredVariable="ast1656"/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1718">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1719" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1720" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1721" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1631"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1722" name="dbVars" eType="ast181" referredVariable="ast1658"/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1723">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1724" referredRelation="ast1978">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1725" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1726" name="domainBottomSharedVars" eType="ast181" referredVariable="ast1632"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1727" name="mb" referredVariable="ast1659">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1728">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1729" referredRelation="ast2340">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1730" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1633"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1731" name="db" referredVariable="ast1657">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1732" name="TROppositeDomainsToMappingForEnforcement" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1733" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1793">
      <pattern xmi:id="ast1734" bindsTo="ast1793 ast1809 ast1810 ast1811 ast1800 ast1812 ast1801 ast1807 ast1805 ast1802 ast1813 ast1814 ast1815 ast1816">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1735" name="oppDomainSeq" eType="ast183" bindsTo="ast1793" referredCollectionType="ast183" rest="ast1808">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1736">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1737" name="ord" referredVariable="ast1811">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1738" name="rd" referredVariable="ast1816">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/%3C%3E"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1739" name="r" bindsTo="ast1809">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast1740">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
              <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1741" name="rds" eType="ast203" bindsTo="ast1810" referredCollectionType="ast203" rest="ast1808">
                <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1742" name="ord" bindsTo="ast1811">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <part xmi:id="ast1743">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1744" name="dn" referredVariable="ast1800">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1745">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1746" name="dir" bindsTo="ast1812">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                      <part xmi:id="ast1747">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1748" name="tmn" referredVariable="ast1801">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <part xmi:id="ast1749">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1750" name="up" referredVariable="ast1807">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                        </value>
                      </part>
                      <part xmi:id="ast1751">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1752" name="rt" referredVariable="ast1805">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                    </value>
                  </part>
                  <part xmi:id="ast1753">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1754" name="c" referredVariable="ast1802">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                    </value>
                  </part>
                  <part xmi:id="ast1755">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1756" name="dp" bindsTo="ast1813">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                      <part xmi:id="ast1757">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                        <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1758" name="domainVars" eType="ast181" bindsTo="ast1814" referredCollectionType="ast181"/>
                      </part>
                      <part xmi:id="ast1759">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1760" name="te" bindsTo="ast1815">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                          <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
                </member>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1761" name="rd" bindsTo="ast1816">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1762" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1794">
      <pattern xmi:id="ast1763" bindsTo="ast1794 ast1817 ast1800 ast1818 ast1801 ast1807 ast1806 ast1802 ast1819 ast1820 ast1821 ast1822">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1764" name="m" bindsTo="ast1794">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast1765">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1766" name="cd" bindsTo="ast1817">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast1767">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1768" name="dn" referredVariable="ast1800">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast1769">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1770" name="mdir" bindsTo="ast1818">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast1771">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1772" name="tmn" referredVariable="ast1801">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast1773">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1774" name="up" referredVariable="ast1807">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast1775">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1776" name="mt" referredVariable="ast1806">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast1777">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isCheckable"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1778" name="c" referredVariable="ast1802">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1779">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast1780" booleanSymbol="false">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                </value>
              </part>
              <part xmi:id="ast1781">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1782" name="dg" bindsTo="ast1819">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast1783">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1784" name="cd" referredVariable="ast1817">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <part xmi:id="ast1785">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1786" name="db" bindsTo="ast1820">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast1787">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1788" name="dbVars" eType="ast181" bindsTo="ast1821" referredCollectionType="ast181"/>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <part xmi:id="ast1789">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1790" name="mb" bindsTo="ast1822">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
              <part xmi:id="ast1791">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast1792" name="m" referredVariable="ast1794">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1793" name="oppDomainSeq" eType="ast183"/>
    <variable xmi:id="ast1794" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast1795" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast1796" name="domainTopVars" eType="ast181"/>
    <variable xmi:id="ast1797" name="domainBottomUnSharedVars" eType="ast181"/>
    <variable xmi:id="ast1798" name="domainBottomSharedVars" eType="ast181"/>
    <variable xmi:id="ast1799" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast1800" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1801" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast1802" name="c">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
    </variable>
    <variable xmi:id="ast1803" name="mbVars" eType="ast181"/>
    <variable xmi:id="ast1804" name="whenVars" eType="ast181"/>
    <variable xmi:id="ast1805" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast1806" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast1807" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast1808" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast1809" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1810" name="rds" eType="ast203"/>
    <variable xmi:id="ast1811" name="ord">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1812" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1813" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast1814" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast1815" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast1816" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast1817" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast1818" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast1819" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1820" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1821" name="dbVars" eType="ast181"/>
    <variable xmi:id="ast1822" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1823" name="dgVars" eType="ast181"/>
    <where xmi:id="ast1824" bindsTo="ast1804 ast1809 ast1796 ast1814 ast1795 ast1797 ast1798 ast1799 ast1815 ast1805 ast1806 ast1823 ast1821 ast1822 ast1820">
      <predicate xmi:id="ast1825">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1826">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1827" name="whenVars" eType="ast181" referredVariable="ast1804"/>
          <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1828" eType="ast181">
            <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1829">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1830" name="r" referredVariable="ast1809">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            </source>
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1831">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1832">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1833" name="domainTopVars" eType="ast181" referredVariable="ast1796"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1834" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1835" name="domainVars" eType="ast181" referredVariable="ast1814"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1836" name="whenVars" eType="ast181" referredVariable="ast1804"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1837">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1838">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1839" name="sharedDomainVars" eType="ast181" referredVariable="ast1795"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1840" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1841" name="r" referredVariable="ast1809">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1842">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1843">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1844" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1797"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1845" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1846" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1847" name="domainVars" eType="ast181" referredVariable="ast1814"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1848" name="whenVars" eType="ast181" referredVariable="ast1804"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1849" name="sharedDomainVars" eType="ast181" referredVariable="ast1795"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1850">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1851">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1852" name="domainBottomSharedVars" eType="ast181" referredVariable="ast1798"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1853" eType="ast181">
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1854" eType="ast181">
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1855" name="domainVars" eType="ast181" referredVariable="ast1814"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1856" name="whenVars" eType="ast181" referredVariable="ast1804"/>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
            </source>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1857" name="sharedDomainVars" eType="ast181" referredVariable="ast1795"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/intersection.1"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1858">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1859">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1860" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1799"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1861" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1862">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1863" name="r" referredVariable="ast1809">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast1864">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast1865" name="te" referredVariable="ast1815">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1866">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1867" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1868" name="rt" referredVariable="ast1805">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1869" name="mt" referredVariable="ast1806">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1870">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1871" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1872" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1873" name="domainTopVars" eType="ast181" referredVariable="ast1796"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1874" name="dgVars" eType="ast181" referredVariable="ast1823"/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1875">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1876" referredRelation="ast1948">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1877" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1878" name="domainBottomUnSharedVars" eType="ast181" referredVariable="ast1797"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1879" name="dbVars" eType="ast181" referredVariable="ast1821"/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1880">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1881" referredRelation="ast1978">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1882" eType="ast184">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1883" name="domainBottomSharedVars" eType="ast181" referredVariable="ast1798"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1884" name="mb" referredVariable="ast1822">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1885">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1886" referredRelation="ast2340">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1887" name="seqForDomainPtrn" eType="ast183" referredVariable="ast1799"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1888" name="db" referredVariable="ast1820">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1889" name="RWhenPatternToMGuardPattern" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1890" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1900">
      <pattern xmi:id="ast1891" bindsTo="ast1900 ast1904 ast1905">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1892" name="r" bindsTo="ast1900">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast1893">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.when"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1894" name="whenp" bindsTo="ast1904">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
              <part xmi:id="ast1895">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1896" name="whenVars" eType="ast181" bindsTo="ast1905" referredCollectionType="ast181"/>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Pattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1897" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1901">
      <pattern xmi:id="ast1898" bindsTo="ast1901">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1899" name="mg" bindsTo="ast1901">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1900" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast1901" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast1902" name="allDomainVars" eType="ast181"/>
    <variable xmi:id="ast1903" name="unsharedWhenVars" eType="ast181"/>
    <variable xmi:id="ast1904" name="whenp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast1905" name="whenVars" eType="ast181"/>
    <where xmi:id="ast1906" bindsTo="ast1902 ast1900 ast1903 ast1905 ast1904 ast1901">
      <predicate xmi:id="ast1907">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1908">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1909" name="allDomainVars" eType="ast181" referredVariable="ast1902"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1910" eType="ast181">
            <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast1911" name="collect" eType="ast191">
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast1912" name="collect" eType="ast204">
                <source xsi:type="ocl.ecore:IterateExp" xmi:id="ast1913" name="iterate" eType="ast203">
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1914" eType="ast188">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1915" name="r" referredVariable="ast1900">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                    </source>
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                  </source>
                  <body xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1916" eType="ast203">
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1917" name="acc" eType="ast203" referredVariable="ast1922"/>
                    <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1918">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1919" name="md" referredVariable="ast1921">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast1920" eType="ast190">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/including"/>
                  </body>
                  <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1921" name="md">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Domain"/>
                  </iterator>
                  <result xsi:type="ocl.ecore:Variable" xmi:id="ast1922" name="acc" eType="ast203">
                    <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1923" eType="ast189"/>
                  </result>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1924">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1925" name="temp1" referredVariable="ast1926">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1926" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                </iterator>
              </source>
              <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast1927" eType="ast181">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1928" name="temp1" referredVariable="ast1929">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
              </body>
              <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast1929" name="temp1">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              </iterator>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/asSet"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1930">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1931">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1932" name="unsharedWhenVars" eType="ast181" referredVariable="ast1903"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1933" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1934" name="whenVars" eType="ast181" referredVariable="ast1905"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1935" name="allDomainVars" eType="ast181" referredVariable="ast1902"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1936">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1937" referredRelation="ast2096">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1938" name="whenp" referredVariable="ast1904">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1939" name="mg" referredVariable="ast1901">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1940">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1941" referredRelation="ast2066">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1942" name="whenp" referredVariable="ast1904">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1943" name="mg" referredVariable="ast1901">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1944">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1945" referredRelation="ast484">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1946" name="unsharedWhenVars" eType="ast181" referredVariable="ast1903"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1947" name="mg" referredVariable="ast1901">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1948" name="RVarSetToMVarSet" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1949" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1957">
      <pattern xmi:id="ast1950" bindsTo="ast1957 ast1961 ast1959">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1951" name="rvSeq" eType="ast184" bindsTo="ast1957" referredCollectionType="ast184" rest="ast1959">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1952" name="rv" bindsTo="ast1961">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1953" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1958">
      <pattern xmi:id="ast1954" bindsTo="ast1958 ast1962 ast1960">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1955" name="mvSet" eType="ast181" bindsTo="ast1958" referredCollectionType="ast181" rest="ast1960">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1956" name="mv" bindsTo="ast1962">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1957" name="rvSeq" eType="ast184"/>
    <variable xmi:id="ast1958" name="mvSet" eType="ast181"/>
    <variable xmi:id="ast1959" name="rvRest" eType="ast184"/>
    <variable xmi:id="ast1960" name="mvRest" eType="ast181"/>
    <variable xmi:id="ast1961" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast1962" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <where xmi:id="ast1963" bindsTo="ast1961 ast1962 ast1959 ast1960">
      <predicate xmi:id="ast1964">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1965" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1966" name="rv" referredVariable="ast1961">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1967" name="mv" referredVariable="ast1962">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1968">
        <conditionExpression xsi:type="ocl.ecore:IfExp" xmi:id="ast1969">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <condition xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1970">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1971" name="rvRest" eType="ast184" referredVariable="ast1959"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/isEmpty"/>
          </condition>
          <thenExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast1972">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast1973" name="mvRest" eType="ast181" referredVariable="ast1960"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast1974" eType="ast189"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
          </thenExpression>
          <elseExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1975" referredRelation="ast1948">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1976" name="rvRest" eType="ast184" referredVariable="ast1959"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1977" name="mvRest" eType="ast181" referredVariable="ast1960"/>
          </elseExpression>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast1978" name="RVarSetToMBVarSet" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1979" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast1988">
      <pattern xmi:id="ast1980" bindsTo="ast1988 ast1992 ast1990">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast1981" name="rvSeq" eType="ast184" bindsTo="ast1988" referredCollectionType="ast184" rest="ast1990">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1982" name="rv" bindsTo="ast1992">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast1983" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast1989">
      <pattern xmi:id="ast1984" bindsTo="ast1989 ast1993">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1985" name="mb" bindsTo="ast1989">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast1986">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast1987" name="mv" bindsTo="ast1993">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast1988" name="rvSeq" eType="ast184"/>
    <variable xmi:id="ast1989" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast1990" name="rvRest" eType="ast184"/>
    <variable xmi:id="ast1991" name="mvRest" eType="ast181"/>
    <variable xmi:id="ast1992" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast1993" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <where xmi:id="ast1994" bindsTo="ast1992 ast1993 ast1990 ast1989">
      <predicate xmi:id="ast1995">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast1996" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1997" name="rv" referredVariable="ast1992">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast1998" name="mv" referredVariable="ast1993">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast1999">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2000" referredRelation="ast1978">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2001" name="rvRest" eType="ast184" referredVariable="ast1990"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2002" name="mb" referredVariable="ast1989">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2003" name="RVarSetToDGVarSet" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2004" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2013">
      <pattern xmi:id="ast2005" bindsTo="ast2013 ast2017 ast2015">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2006" name="rvSeq" eType="ast184" bindsTo="ast2013" referredCollectionType="ast184" rest="ast2015">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2007" name="rv" bindsTo="ast2017">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2008" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2014">
      <pattern xmi:id="ast2009" bindsTo="ast2014 ast2018">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2010" name="dg" bindsTo="ast2014">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <part xmi:id="ast2011">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2012" name="mv" bindsTo="ast2018">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2013" name="rvSeq" eType="ast184"/>
    <variable xmi:id="ast2014" name="dg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast2015" name="rvRest" eType="ast184"/>
    <variable xmi:id="ast2016" name="mvRest" eType="ast181"/>
    <variable xmi:id="ast2017" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2018" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <where xmi:id="ast2019" bindsTo="ast2017 ast2018 ast2015 ast2014">
      <predicate xmi:id="ast2020">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2021" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2022" name="rv" referredVariable="ast2017">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2023" name="mv" referredVariable="ast2018">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2024">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2025" referredRelation="ast2003">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2026" name="rvRest" eType="ast184" referredVariable="ast2015"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2027" name="dg" referredVariable="ast2014">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2028" name="RVarToMVar" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2029" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2043">
      <pattern xmi:id="ast2030" bindsTo="ast2043 ast2045 ast2046">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2031" name="rv" bindsTo="ast2043">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          <part xmi:id="ast2032">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2033" name="n" referredVariable="ast2045">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast2034">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2035" name="t" bindsTo="ast2046">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
              <referredClass href="QVT.ecore#EMOF.Type"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2036" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2044">
      <pattern xmi:id="ast2037" bindsTo="ast2044 ast2045 ast2046">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2038" name="mv" bindsTo="ast2044">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          <part xmi:id="ast2039">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2040" name="n" referredVariable="ast2045">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast2041">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2042" name="t" referredVariable="ast2046">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2043" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2044" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2045" name="n">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2046" name="t">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
    </variable>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2047" name="RVarToMRealizedVar" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2048" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2062">
      <pattern xmi:id="ast2049" bindsTo="ast2062 ast2064 ast2065">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2050" name="rv" bindsTo="ast2062">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          <part xmi:id="ast2051">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2052" name="n" referredVariable="ast2064">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast2053">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2054" name="t" bindsTo="ast2065">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
              <referredClass href="QVT.ecore#EMOF.Type"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2055" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2063">
      <pattern xmi:id="ast2056" bindsTo="ast2063 ast2064 ast2065">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2057" name="mv" bindsTo="ast2063">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          <part xmi:id="ast2058">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2059" name="n" referredVariable="ast2064">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <part xmi:id="ast2060">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2061" name="t" referredVariable="ast2065">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2062" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2063" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast2064" name="n">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2065" name="t">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
    </variable>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2066" name="RSimplePatternToMPattern" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2067" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2085">
      <pattern xmi:id="ast2068" bindsTo="ast2085 ast2087 ast2088">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2069" name="rp" bindsTo="ast2085">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2070">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2071">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2072" name="re" referredVariable="ast2088">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </source>
              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2073" eType="ast196">
                <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <part xmi:id="ast2074">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2075" name="pd" bindsTo="ast2087">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2076">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2077" name="re" bindsTo="ast2088">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTBase.Pattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2078" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2086">
      <pattern xmi:id="ast2079" bindsTo="ast2086 ast2089 ast2090">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2080" name="mp" bindsTo="ast2086">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          <part xmi:id="ast2081">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2082" name="mpd" bindsTo="ast2089">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2083">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2084" name="me" bindsTo="ast2090">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTBase.Pattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2085" name="rp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast2086" name="mp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast2087" name="pd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2088" name="re">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast2089" name="mpd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2090" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <where xmi:id="ast2091" bindsTo="ast2088 ast2090">
      <predicate xmi:id="ast2092">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2093" referredRelation="ast4159">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2094" name="re" referredVariable="ast2088">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2095" name="me" referredVariable="ast2090">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2096" name="RWhenRelCallToMGuard" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2097" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2113">
      <pattern xmi:id="ast2098" bindsTo="ast2113 ast2115 ast2116 ast2117 ast2118 ast2119">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2099" name="rp" bindsTo="ast2113">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
          <part xmi:id="ast2100">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2101" name="pd" bindsTo="ast2115">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2102">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2103" name="e" bindsTo="ast2116">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
                  <part xmi:id="ast2104">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.referredRelation"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2105" name="r" bindsTo="ast2117">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                      <part xmi:id="ast2106">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                        <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2107" name="dseq" eType="ast207" bindsTo="ast2118" referredCollectionType="ast207"/>
                      </part>
                      <referredClass href="QVT.ecore#QVTRelation.Relation"/>
                    </value>
                  </part>
                  <part xmi:id="ast2108">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.argument"/>
                    <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2109" name="aseq" eType="ast208" bindsTo="ast2119" referredCollectionType="ast208"/>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.RelationCallExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTBase.Pattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2110" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2114">
      <pattern xmi:id="ast2111" bindsTo="ast2114">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2112" name="mp" bindsTo="ast2114">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2113" name="rp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Pattern"/>
    </variable>
    <variable xmi:id="ast2114" name="mp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast2115" name="pd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2116" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
    </variable>
    <variable xmi:id="ast2117" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2118" name="dseq" eType="ast207"/>
    <variable xmi:id="ast2119" name="aseq" eType="ast208"/>
    <where xmi:id="ast2120" bindsTo="ast2119 ast2117 ast2118 ast2114">
      <predicate xmi:id="ast2121">
        <conditionExpression xsi:type="ocl.ecore:IteratorExp" xmi:id="ast2122" name="forAll">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2123" name="aseq" eType="ast208" referredVariable="ast2119"/>
          <body xsi:type="eqvtr:RelationCallExp" xmi:id="ast2124" referredRelation="ast2138">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2125" eType="ast205" kind="Sequence">
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2126">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2127" name="r" referredVariable="ast2117">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </item>
              </part>
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2128">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2129" name="a" referredVariable="ast2137">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                </item>
              </part>
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2130">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <item xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2131">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2132" name="dseq" eType="ast207" referredVariable="ast2118"/>
                  <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2133">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2134" name="aseq" eType="ast208" referredVariable="ast2119"/>
                    <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2135" name="a" referredVariable="ast2137">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/indexOf"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
                </item>
              </part>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2136" name="mp" referredVariable="ast2114">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
            </argument>
          </body>
          <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast2137" name="a">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
          </iterator>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2138" name="RWhenRelCallArgToMGuardPredicate" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2139" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2190">
      <pattern xmi:id="ast2140" bindsTo="ast2190 ast2196 ast2197 ast2198 ast2199 ast2200 ast2193">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2141" name="daSeq" eType="ast183" bindsTo="ast2190" referredCollectionType="ast183" rest="ast2195">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2142" name="r" bindsTo="ast2196">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2143" name="ve" bindsTo="ast2197">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
            <part xmi:id="ast2144">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2145" name="v" bindsTo="ast2198">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2146" name="d" bindsTo="ast2199">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast2147">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.rootVariable"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2148" name="dv" bindsTo="ast2200">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <part xmi:id="ast2149">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2150" name="dvn" referredVariable="ast2193">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2151" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2191">
      <pattern xmi:id="ast2152" bindsTo="ast2191 ast2201 ast2192 ast2202 ast2203 ast2204 ast2205 ast2206 ast2193 ast2207 ast2208 ast2194">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2153" name="mp" bindsTo="ast2191">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <part xmi:id="ast2154">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2155" name="vd" bindsTo="ast2201">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <part xmi:id="ast2156">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2157">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2158">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2159" name="tc" referredVariable="ast2192">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                    </source>
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  </source>
                  <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast2160" stringSymbol="_v">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </value>
              </part>
              <part xmi:id="ast2161">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2162" name="tc" referredVariable="ast2192">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
            </value>
          </part>
          <part xmi:id="ast2163">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2164" name="mpd" bindsTo="ast2202">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2165">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2166" name="ee" bindsTo="ast2203">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  <part xmi:id="ast2167">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2168" name="pe" bindsTo="ast2204">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                      <part xmi:id="ast2169">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2170" name="pve" bindsTo="ast2205">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                          <part xmi:id="ast2171">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2172" name="vd" referredVariable="ast2201">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                        </value>
                      </part>
                      <part xmi:id="ast2173">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.PropertyCallExp.referredProperty"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2174" name="pep" bindsTo="ast2206">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                          <part xmi:id="ast2175">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2176" name="dvn" referredVariable="ast2193">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <part xmi:id="ast2177">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2178">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2179">
                                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2180" name="vd" referredVariable="ast2201">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </source>
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                              </source>
                              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2181" eType="ast209">
                                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              </argument>
                              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EMOF.Property"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                    </value>
                  </part>
                  <part xmi:id="ast2182">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.referredOperation"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2183" name="eo" bindsTo="ast2207">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                      <part xmi:id="ast2184">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast2185" stringSymbol="=">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EMOF.Operation"/>
                    </value>
                  </part>
                  <part xmi:id="ast2186">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2187" name="ave" bindsTo="ast2208">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                      <part xmi:id="ast2188">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2189" name="mv" referredVariable="ast2194">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2190" name="daSeq" eType="ast183"/>
    <variable xmi:id="ast2191" name="mp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast2192" name="tc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast2193" name="dvn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2194" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2195" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2196" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2197" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2198" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2199" name="d">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2200" name="dv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2201" name="vd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2202" name="mpd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2203" name="ee">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast2204" name="pe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
    </variable>
    <variable xmi:id="ast2205" name="pve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2206" name="pep">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2207" name="eo">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
    </variable>
    <variable xmi:id="ast2208" name="ave">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast2209" bindsTo="ast2196 ast2192">
      <predicate xmi:id="ast2210">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2211" referredRelation="ast252">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2212" name="r" referredVariable="ast2196">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2213" name="tc" referredVariable="ast2192">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast2214" bindsTo="ast2198 ast2194">
      <predicate xmi:id="ast2215">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2216" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2217" name="v" referredVariable="ast2198">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2218" name="mv" referredVariable="ast2194">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2219" name="RInvokerToMGuard" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2220" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2233">
      <pattern xmi:id="ast2221" bindsTo="ast2233 ast2236 ast2237 ast2238 ast2239 ast2240">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2222" name="seqForInvoker" eType="ast183" bindsTo="ast2233" referredCollectionType="ast183" rest="ast2235">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2223" name="ir" bindsTo="ast2236">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2224" name="ri" bindsTo="ast2237">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
            <part xmi:id="ast2225">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationCallExp.argument"/>
              <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2226" name="aseq" eType="ast208" bindsTo="ast2238" referredCollectionType="ast208"/>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationCallExp"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2227" name="r" bindsTo="ast2239">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast2228">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
              <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2229" name="dseq" eType="ast207" bindsTo="ast2240" referredCollectionType="ast207"/>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2230" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2234">
      <pattern xmi:id="ast2231" bindsTo="ast2234">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2232" name="mg" bindsTo="ast2234">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2233" name="seqForInvoker" eType="ast183"/>
    <variable xmi:id="ast2234" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast2235" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2236" name="ir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2237" name="ri">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationCallExp"/>
    </variable>
    <variable xmi:id="ast2238" name="aseq" eType="ast208"/>
    <variable xmi:id="ast2239" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2240" name="dseq" eType="ast207"/>
    <where xmi:id="ast2241" bindsTo="ast2238 ast2236 ast2240 ast2234">
      <predicate xmi:id="ast2242">
        <conditionExpression xsi:type="ocl.ecore:IteratorExp" xmi:id="ast2243" name="forAll">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2244" name="aseq" eType="ast208" referredVariable="ast2238"/>
          <body xsi:type="eqvtr:RelationCallExp" xmi:id="ast2245" referredRelation="ast2259">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2246" eType="ast205" kind="Sequence">
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2247">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2248" name="ir" referredVariable="ast2236">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </item>
              </part>
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2249">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2250" name="a" referredVariable="ast2258">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                </item>
              </part>
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2251">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                <item xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2252">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2253" name="dseq" eType="ast207" referredVariable="ast2240"/>
                  <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2254">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2255" name="aseq" eType="ast208" referredVariable="ast2238"/>
                    <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2256" name="a" referredVariable="ast2258">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/indexOf"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
                </item>
              </part>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2257" name="mg" referredVariable="ast2234">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
            </argument>
          </body>
          <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast2258" name="a">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
          </iterator>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2259" name="RInvokerToMGuardPredicate" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2260" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2311">
      <pattern xmi:id="ast2261" bindsTo="ast2311 ast2317 ast2318 ast2319 ast2313 ast2320 ast2321">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2262" name="seqForInvoker" eType="ast183" bindsTo="ast2311" referredCollectionType="ast183" rest="ast2316">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2263" name="ir" bindsTo="ast2317">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2264" name="ve" bindsTo="ast2318">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
            <part xmi:id="ast2265">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2266" name="v" bindsTo="ast2319">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <part xmi:id="ast2267">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2268" name="vn" referredVariable="ast2313">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2269" name="d" bindsTo="ast2320">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast2270">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.rootVariable"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2271" name="dv" bindsTo="ast2321">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2272" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2312">
      <pattern xmi:id="ast2273" bindsTo="ast2312 ast2322 ast2314 ast2323 ast2324 ast2325 ast2326 ast2327 ast2313 ast2328 ast2329 ast2315">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2274" name="mg" bindsTo="ast2312">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
          <part xmi:id="ast2275">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2276" name="vd" bindsTo="ast2322">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <part xmi:id="ast2277">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2278">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2279">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2280" name="tc" referredVariable="ast2314">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                    </source>
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  </source>
                  <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast2281" stringSymbol="_v">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </value>
              </part>
              <part xmi:id="ast2282">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2283" name="tc" referredVariable="ast2314">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
            </value>
          </part>
          <part xmi:id="ast2284">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2285" name="pd" bindsTo="ast2323">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2286">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2287" name="ee" bindsTo="ast2324">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  <part xmi:id="ast2288">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2289" name="pe" bindsTo="ast2325">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                      <part xmi:id="ast2290">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2291" name="mve" bindsTo="ast2326">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                          <part xmi:id="ast2292">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2293" name="vd" referredVariable="ast2322">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                        </value>
                      </part>
                      <part xmi:id="ast2294">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.PropertyCallExp.referredProperty"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2295" name="pep" bindsTo="ast2327">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                          <part xmi:id="ast2296">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2297" name="vn" referredVariable="ast2313">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <part xmi:id="ast2298">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2299">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2300">
                                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2301" name="vd" referredVariable="ast2322">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </source>
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                              </source>
                              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2302" eType="ast209">
                                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              </argument>
                              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EMOF.Property"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                    </value>
                  </part>
                  <part xmi:id="ast2303">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.referredOperation"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2304" name="eo" bindsTo="ast2328">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                      <part xmi:id="ast2305">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast2306" stringSymbol="=">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EMOF.Operation"/>
                    </value>
                  </part>
                  <part xmi:id="ast2307">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2308" name="ave" bindsTo="ast2329">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                      <part xmi:id="ast2309">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2310" name="mdv" referredVariable="ast2315">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2311" name="seqForInvoker" eType="ast183"/>
    <variable xmi:id="ast2312" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast2313" name="vn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2314" name="tc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast2315" name="mdv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2316" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2317" name="ir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2318" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2319" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2320" name="d">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2321" name="dv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2322" name="vd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2323" name="pd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2324" name="ee">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast2325" name="pe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
    </variable>
    <variable xmi:id="ast2326" name="mve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2327" name="pep">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2328" name="eo">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
    </variable>
    <variable xmi:id="ast2329" name="ave">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast2330" bindsTo="ast2317 ast2314">
      <predicate xmi:id="ast2331">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2332" referredRelation="ast252">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2333" name="ir" referredVariable="ast2317">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2334" name="tc" referredVariable="ast2314">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast2335" bindsTo="ast2321 ast2315">
      <predicate xmi:id="ast2336">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2337" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2338" name="dv" referredVariable="ast2321">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2339" name="mdv" referredVariable="ast2315">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2340" name="RDomainPatternToMDBottomPattern" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2341" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2355">
      <pattern xmi:id="ast2342" bindsTo="ast2355">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2343" name="seqForDomainPtrn" eType="ast183" bindsTo="ast2355" referredCollectionType="ast183"/>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2344" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2356">
      <pattern xmi:id="ast2345" bindsTo="ast2356 ast2357 ast2358 ast2359">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2346" name="db" bindsTo="ast2356">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2347">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2348" name="cd" bindsTo="ast2357">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast2349">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.rule"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2350" name="m" bindsTo="ast2358">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                  <part xmi:id="ast2351">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2352" name="mb" bindsTo="ast2359">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                      <part xmi:id="ast2353">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2354" name="m" referredVariable="ast2358">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2355" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast2356" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2357" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast2358" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast2359" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <where xmi:id="ast2360" bindsTo="ast2355 ast2356 ast2359">
      <predicate xmi:id="ast2361">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2362" referredRelation="ast3589">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2363" name="seqForDomainPtrn" eType="ast183" referredVariable="ast2355"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2364" name="db" referredVariable="ast2356">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2365">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2366" referredRelation="ast3822">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2367" name="seqForDomainPtrn" eType="ast183" referredVariable="ast2355"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2368" name="db" referredVariable="ast2356">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2369">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2370" referredRelation="ast3669">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2371" name="seqForDomainPtrn" eType="ast183" referredVariable="ast2355"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2372" name="db" referredVariable="ast2356">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2373">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2374" referredRelation="ast3746">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2375" name="seqForDomainPtrn" eType="ast183" referredVariable="ast2355"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2376" name="mb" referredVariable="ast2359">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2377" name="RDomainToMDBottomForEnforcement" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2378" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2398">
      <pattern xmi:id="ast2379" bindsTo="ast2398 ast2412 ast2413 ast2414 ast2415 ast2416">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2380" name="rdtVarsSeq" eType="ast186" bindsTo="ast2398" referredCollectionType="ast186" rest="ast2411">
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2381" name="rdtSet" eType="ast185" bindsTo="ast2412" referredCollectionType="ast185" rest="ast2411">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2382" name="r" bindsTo="ast2413">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2383" name="rd" bindsTo="ast2414">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2384" name="te" bindsTo="ast2415">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <part xmi:id="ast2385">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2386" name="v" bindsTo="ast2416">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                  <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </member>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2387" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2399">
      <pattern xmi:id="ast2388" bindsTo="ast2399 ast2417 ast2418 ast2419">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2389" name="db" bindsTo="ast2399">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2390">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2391" name="cd" bindsTo="ast2417">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast2392">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.rule"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2393" name="m" bindsTo="ast2418">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                  <part xmi:id="ast2394">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2395" name="mb" bindsTo="ast2419">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                      <part xmi:id="ast2396">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2397" name="m" referredVariable="ast2418">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2398" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast2399" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2400" name="remainingUnBoundDomainVars" eType="ast181"/>
    <variable xmi:id="ast2401" name="predicatesWithVarBindings" eType="ast182"/>
    <variable xmi:id="ast2402" name="remainingPredicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast2403" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast2404" name="rtSeq" eType="ast183"/>
    <variable xmi:id="ast2405" name="rtdSeq" eType="ast183"/>
    <variable xmi:id="ast2406" name="rdtVarsSeqRest" eType="ast186"/>
    <variable xmi:id="ast2407" name="predicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast2408" name="unboundDomainVars" eType="ast181"/>
    <variable xmi:id="ast2409" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2410" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2411" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2412" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast2413" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2414" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2415" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2416" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2417" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast2418" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast2419" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <where xmi:id="ast2420" bindsTo="ast2398 ast2407 ast2408 ast2400 ast2416 ast2401 ast2402 ast2404 ast2413 ast2415 ast2405 ast2414 ast2406 ast2412 ast2399 ast2419 ast2418">
      <predicate xmi:id="ast2421">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2422">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2423" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2424" name="rdtVarsSeq" eType="ast186" referredVariable="ast2398"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast2425" integerSymbol="2">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2426" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast2407"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2427">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2428">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2429" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2430" name="rdtVarsSeq" eType="ast186" referredVariable="ast2398"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast2431" integerSymbol="3">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2432" name="unboundDomainVars" eType="ast181" referredVariable="ast2408"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2433">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2434">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2435" name="remainingUnBoundDomainVars" eType="ast181" referredVariable="ast2400"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2436" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2437" name="unboundDomainVars" eType="ast181" referredVariable="ast2408"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2438" eType="ast181">
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2439">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2440" name="v" referredVariable="ast2416">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                </item>
              </part>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2441">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2442">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2443" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast2401"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2444" name="filterOutPredicatesThatReferToVars" eType="ast182" referredOperation="ast128">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2445" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast2407"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2446" name="remainingUnBoundDomainVars" eType="ast181" referredVariable="ast2400"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2447">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2448">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2449" name="remainingPredicatesWithoutVarBindings" eType="ast182" referredVariable="ast2402"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2450" eType="ast182">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2451" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast2407"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2452" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast2401"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2453">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2454">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2455" name="rtSeq" eType="ast183" referredVariable="ast2404"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2456" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2457">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2458" name="r" referredVariable="ast2413">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2459">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2460" name="te" referredVariable="ast2415">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2461">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2462">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2463" name="rtdSeq" eType="ast183" referredVariable="ast2405"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2464" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2465">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2466" name="r" referredVariable="ast2413">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2467">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2468" name="te" referredVariable="ast2415">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2469">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2470" name="rd" referredVariable="ast2414">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2471">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2472">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2473" name="rdtVarsSeqRest" eType="ast186" referredVariable="ast2406"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2474" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2475" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2476" name="rdtSet" eType="ast185" referredVariable="ast2412"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2477" eType="ast182">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2478" name="remainingPredicatesWithoutVarBindings" eType="ast182" referredVariable="ast2402"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2479" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2480" name="remainingUnBoundDomainVars" eType="ast181" referredVariable="ast2400"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2481">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2482" referredRelation="ast2710">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2483" name="rtSeq" eType="ast183" referredVariable="ast2404"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2484" name="db" referredVariable="ast2399">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2485">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2486" referredRelation="ast2501">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2487" name="rdtVarsSeq" eType="ast186" referredVariable="ast2398"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2488" name="mb" referredVariable="ast2419">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2489">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2490" referredRelation="ast3149">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2491" name="rtdSeq" eType="ast183" referredVariable="ast2405"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2492" name="m" referredVariable="ast2418">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2493">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2494" referredRelation="ast3405">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2495" name="rdtVarsSeqRest" eType="ast186" referredVariable="ast2406"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2496" name="m" referredVariable="ast2418">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2497">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2498" referredRelation="ast2566">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2499" name="rdtVarsSeq" eType="ast186" referredVariable="ast2398"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2500" name="mb" referredVariable="ast2419">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2501" name="RDomainVarToMDBottomAssignmnetForEnforcement" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2502" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2534">
      <pattern xmi:id="ast2503" bindsTo="ast2534 ast2540 ast2541 ast2542 ast2543 ast2544">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2504" name="rdtVarsSeq" eType="ast186" bindsTo="ast2534" referredCollectionType="ast186" rest="ast2539">
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2505" name="rdtSet" eType="ast185" bindsTo="ast2540" referredCollectionType="ast185" rest="ast2539">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2506" name="r" bindsTo="ast2541">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2507" name="rd" bindsTo="ast2542">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2508" name="te" bindsTo="ast2543">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <part xmi:id="ast2509">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2510" name="v" bindsTo="ast2544">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                  <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </member>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2511" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2535">
      <pattern xmi:id="ast2512" bindsTo="ast2535 ast2545 ast2546 ast2537 ast2547 ast2544 ast2548 ast2538">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2513" name="mb" bindsTo="ast2535">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2514">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2515" name="a" bindsTo="ast2545">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast2516">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2517" name="ve1" bindsTo="ast2546">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2518">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2519" name="tcv" referredVariable="ast2537">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast2520">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2521" name="tp" bindsTo="ast2547">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast2522">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2523">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2524" name="v" referredVariable="ast2544">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      </source>
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    </value>
                  </part>
                  <part xmi:id="ast2525">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2526">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2527">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2528" name="tcv" referredVariable="ast2537">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2529" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast2530">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2531" name="ve2" bindsTo="ast2548">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2532">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2533" name="mv" referredVariable="ast2538">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2534" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast2535" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2536" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast2537" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2538" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2539" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2540" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast2541" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2542" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2543" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2544" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2545" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast2546" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2547" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2548" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast2549" bindsTo="ast2536 ast2541 ast2542 ast2537 ast2544 ast2538">
      <predicate xmi:id="ast2550">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2551">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2552" name="rdSeq" eType="ast183" referredVariable="ast2536"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2553" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2554">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2555" name="r" referredVariable="ast2541">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2556">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2557" name="rd" referredVariable="ast2542">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2558">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2559" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2560" name="rdSeq" eType="ast183" referredVariable="ast2536"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2561" name="tcv" referredVariable="ast2537">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2562">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2563" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2564" name="v" referredVariable="ast2544">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2565" name="mv" referredVariable="ast2538">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2566" name="RDomainToMBottomPredicateForEnforcement" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2567" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2607">
      <pattern xmi:id="ast2568" bindsTo="ast2607 ast2617 ast2618 ast2619 ast2620 ast2621">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2569" name="rdtVarsSeq" eType="ast186" bindsTo="ast2607" referredCollectionType="ast186" rest="ast2616">
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2570" name="rdtSet" eType="ast185" bindsTo="ast2617" referredCollectionType="ast185" rest="ast2616">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2571" name="r" bindsTo="ast2618">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2572" name="rd" bindsTo="ast2619">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2573" name="te" bindsTo="ast2620">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <part xmi:id="ast2574">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2575" name="v" bindsTo="ast2621">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                  <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </member>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2576" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2608">
      <pattern xmi:id="ast2577" bindsTo="ast2608 ast2622 ast2623 ast2624 ast2625 ast2614 ast2626 ast2621 ast2627 ast2628 ast2615">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2578" name="mb" bindsTo="ast2608">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2579">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2580" name="pd" bindsTo="ast2622">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2581">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2582" name="ee" bindsTo="ast2623">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  <part xmi:id="ast2583">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2584" name="pe" bindsTo="ast2624">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                      <part xmi:id="ast2585">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2586" name="pve" bindsTo="ast2625">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                          <part xmi:id="ast2587">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2588" name="tcv" referredVariable="ast2614">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                        </value>
                      </part>
                      <part xmi:id="ast2589">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.PropertyCallExp.referredProperty"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2590" name="pep" bindsTo="ast2626">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                          <part xmi:id="ast2591">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2592">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2593" name="v" referredVariable="ast2621">
                                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                              </source>
                              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            </value>
                          </part>
                          <part xmi:id="ast2594">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2595">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2596">
                                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2597" name="tcv" referredVariable="ast2614">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </source>
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                              </source>
                              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2598" eType="ast209">
                                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              </argument>
                              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EMOF.Property"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                    </value>
                  </part>
                  <part xmi:id="ast2599">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.referredOperation"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2600" name="eo" bindsTo="ast2627">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                      <part xmi:id="ast2601">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast2602" stringSymbol="=">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EMOF.Operation"/>
                    </value>
                  </part>
                  <part xmi:id="ast2603">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2604" name="ave" bindsTo="ast2628">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                      <part xmi:id="ast2605">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2606" name="mv" referredVariable="ast2615">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2607" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast2608" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2609" name="remainingUnBoundDomainVars" eType="ast181"/>
    <variable xmi:id="ast2610" name="predicatesWithVarBindings" eType="ast182"/>
    <variable xmi:id="ast2611" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast2612" name="predicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast2613" name="unboundDomainVars" eType="ast181"/>
    <variable xmi:id="ast2614" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2615" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2616" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2617" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast2618" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2619" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2620" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2621" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2622" name="pd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2623" name="ee">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast2624" name="pe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
    </variable>
    <variable xmi:id="ast2625" name="pve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2626" name="pep">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2627" name="eo">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
    </variable>
    <variable xmi:id="ast2628" name="ave">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast2629" bindsTo="ast2611 ast2618 ast2619 ast2614 ast2621 ast2615 ast2607 ast2612 ast2613 ast2609 ast2610 ast2608">
      <predicate xmi:id="ast2630">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2631">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2632" name="rdSeq" eType="ast183" referredVariable="ast2611"/>
          <argument xsi:type="ocl.ecore:LetExp" xmi:id="ast2633" eType="ast183">
            <in xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2634" eType="ast183">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2635" eType="ast183">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2636" name="s" eType="ast183" referredVariable="ast2639"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2637" name="r" referredVariable="ast2618">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/append"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2638" name="rd" referredVariable="ast2619">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/append"/>
            </in>
            <variable xsi:type="ocl.ecore:Variable" xmi:id="ast2639" name="s" eType="ast183">
              <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2640" eType="ast211" kind="Sequence"/>
            </variable>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2641">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2642" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2643" name="rdSeq" eType="ast183" referredVariable="ast2611"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2644" name="tcv" referredVariable="ast2614">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2645">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2646" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2647" name="v" referredVariable="ast2621">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2648" name="mv" referredVariable="ast2615">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2649">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2650">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2651" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2652" name="rdtVarsSeq" eType="ast186" referredVariable="ast2607"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast2653" integerSymbol="2">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2654" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast2612"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2655">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2656">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2657" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2658" name="rdtVarsSeq" eType="ast186" referredVariable="ast2607"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast2659" integerSymbol="3">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2660" name="unboundDomainVars" eType="ast181" referredVariable="ast2613"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2661">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2662">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2663" name="remainingUnBoundDomainVars" eType="ast181" referredVariable="ast2609"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2664" eType="ast181">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2665" name="unboundDomainVars" eType="ast181" referredVariable="ast2613"/>
            <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2666" eType="ast181">
              <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2667">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2668" name="v" referredVariable="ast2621">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                </item>
              </part>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/-"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2669">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2670">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2671" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast2610"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2672" name="filterOutPredicatesThatReferToVars" eType="ast182" referredOperation="ast128">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2673" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast2612"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2674" name="remainingUnBoundDomainVars" eType="ast181" referredVariable="ast2609"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2675">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2676" referredRelation="ast2680">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2677" eType="ast187">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2678" name="predicatesWithVarBindings" eType="ast182" referredVariable="ast2610"/>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/asSequence"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2679" name="mb" referredVariable="ast2608">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2680" name="RPredicateSetToMBPredicateSet" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2681" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2694">
      <pattern xmi:id="ast2682" bindsTo="ast2694 ast2697 ast2698 ast2696">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2683" name="predSeq" eType="ast187" bindsTo="ast2694" referredCollectionType="ast187" rest="ast2696">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2684" name="rp" bindsTo="ast2697">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
            <part xmi:id="ast2685">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2686" name="re" bindsTo="ast2698">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTBase.Predicate"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2687" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2695">
      <pattern xmi:id="ast2688" bindsTo="ast2695 ast2699 ast2700">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2689" name="mb" bindsTo="ast2695">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2690">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2691" name="mp" bindsTo="ast2699">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
              <part xmi:id="ast2692">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2693" name="me" bindsTo="ast2700">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTBase.Predicate"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2694" name="predSeq" eType="ast187"/>
    <variable xmi:id="ast2695" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2696" name="rpRest" eType="ast187"/>
    <variable xmi:id="ast2697" name="rp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2698" name="re">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast2699" name="mp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast2700" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <where xmi:id="ast2701" bindsTo="ast2698 ast2700 ast2696 ast2695">
      <predicate xmi:id="ast2702">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2703" referredRelation="ast4159">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2704" name="re" referredVariable="ast2698">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2705" name="me" referredVariable="ast2700">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2706">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2707" referredRelation="ast2680">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2708" name="rpRest" eType="ast187" referredVariable="ast2696"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2709" name="mb" referredVariable="ast2695">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2710" name="RDomainToMDBottomForEnforcementOfIdentityProp" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2711" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2745">
      <pattern xmi:id="ast2712" bindsTo="ast2745 ast2749 ast2750 ast2751 ast2752 ast2753 ast2754 ast2755">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2713" name="rtSeq" eType="ast183" bindsTo="ast2745" referredCollectionType="ast183" rest="ast2748">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2714" name="r" bindsTo="ast2749">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2715" name="te" bindsTo="ast2750">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2716">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast2717" name="collect" eType="ast214">
                <source xsi:type="eqvtr:OppositePropertyCallExp" xmi:id="ast2718" eType="ast212">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2719" name="c" referredVariable="ast2752">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.identifies"/>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2720" eType="ast213">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2721" name="temp1" referredVariable="ast2722">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.part"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast2722" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                </iterator>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2723" name="pp" referredVariable="ast2754">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/includes"/>
            </where>
            <part xmi:id="ast2724">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2725" name="v" bindsTo="ast2751">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <part xmi:id="ast2726">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2727" name="c" bindsTo="ast2752">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                    <referredClass href="QVT.ecore#EMOF.Class"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast2728">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2729" name="pt" bindsTo="ast2753">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast2730">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2731" name="pp" bindsTo="ast2754">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast2732">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2733" name="e" bindsTo="ast2755">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2734" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2746">
      <pattern xmi:id="ast2735" bindsTo="ast2746 ast2756 ast2757 ast2758">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2736" name="db" bindsTo="ast2746">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2737">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2738" name="cd" bindsTo="ast2756">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast2739">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.rule"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2740" name="m" bindsTo="ast2757">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                  <part xmi:id="ast2741">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2742" name="mb" bindsTo="ast2758">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                      <part xmi:id="ast2743">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2744" name="m" referredVariable="ast2757">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.Mapping"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2745" name="rtSeq" eType="ast183"/>
    <variable xmi:id="ast2746" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2747" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast2748" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2749" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2750" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2751" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2752" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast2753" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast2754" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2755" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast2756" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast2757" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast2758" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <where xmi:id="ast2759" bindsTo="ast2747 ast2749 ast2751 ast2754 ast2755 ast2746 ast2758">
      <predicate xmi:id="ast2760">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2761">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2762" name="seqForAssignment" eType="ast183" referredVariable="ast2747"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2763" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2764">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2765" name="r" referredVariable="ast2749">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2766">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2767" name="v" referredVariable="ast2751">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2768">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2769" name="pp" referredVariable="ast2754">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2770">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2771" name="e" referredVariable="ast2755">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2772">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2773" referredRelation="ast2875">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2774" name="seqForAssignment" eType="ast183" referredVariable="ast2747"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2775" name="db" referredVariable="ast2746">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2776">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2777" referredRelation="ast2935">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2778" name="seqForAssignment" eType="ast183" referredVariable="ast2747"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2779" name="db" referredVariable="ast2746">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2780">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2781" referredRelation="ast3007">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2782" name="seqForAssignment" eType="ast183" referredVariable="ast2747"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2783" name="db" referredVariable="ast2746">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2784">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2785" referredRelation="ast3078">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2786" name="seqForAssignment" eType="ast183" referredVariable="ast2747"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2787" name="mb" referredVariable="ast2758">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2788" name="RDomainToMDBottomForEnforcementOfIdentityPropObject" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2789" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2838">
      <pattern xmi:id="ast2790" bindsTo="ast2838 ast2845 ast2846 ast2847 ast2848 ast2849 ast2850 ast2851 ast2852 ast2853">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2791" name="rtSeq" eType="ast183" bindsTo="ast2838" referredCollectionType="ast183" rest="ast2844">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2792" name="r" bindsTo="ast2845">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2793" name="rd" bindsTo="ast2846">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2794" name="te" bindsTo="ast2847">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2795">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast2796" name="collect" eType="ast214">
                <source xsi:type="eqvtr:OppositePropertyCallExp" xmi:id="ast2797" eType="ast212">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2798" name="c" referredVariable="ast2849">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.identifies"/>
                </source>
                <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2799" eType="ast213">
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2800" name="temp1" referredVariable="ast2801">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                  </source>
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.part"/>
                </body>
                <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast2801" name="temp1">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                </iterator>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2802" name="pp" referredVariable="ast2851">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/includes"/>
            </where>
            <part xmi:id="ast2803">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2804" name="v" bindsTo="ast2848">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <part xmi:id="ast2805">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2806" name="c" bindsTo="ast2849">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                    <referredClass href="QVT.ecore#EMOF.Class"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast2807">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2808" name="pt" bindsTo="ast2850">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast2809">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2810" name="pp" bindsTo="ast2851">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast2811">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2812" name="e" bindsTo="ast2852">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    <part xmi:id="ast2813">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2814" name="tv" bindsTo="ast2853">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2815" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2839">
      <pattern xmi:id="ast2816" bindsTo="ast2839 ast2854 ast2855 ast2842 ast2856 ast2853 ast2857 ast2841">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2817" name="mb" bindsTo="ast2839">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2818">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2819" name="a" bindsTo="ast2854">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast2820">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2821" name="ve1" bindsTo="ast2855">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2822">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2823" name="tcv" referredVariable="ast2842">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast2824">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2825" name="tp" bindsTo="ast2856">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast2826">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2827">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2828" name="tv" referredVariable="ast2853">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      </source>
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    </value>
                  </part>
                  <part xmi:id="ast2829">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2830">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2831">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2832" name="tcv" referredVariable="ast2842">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2833" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast2834">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2835" name="ve2" bindsTo="ast2857">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2836">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2837" name="mtv" referredVariable="ast2841">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2838" name="rtSeq" eType="ast183"/>
    <variable xmi:id="ast2839" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2840" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast2841" name="mtv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2842" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2843" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast2844" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2845" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2846" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast2847" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2848" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2849" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast2850" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast2851" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2852" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast2853" name="tv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2854" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast2855" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2856" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2857" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast2858" bindsTo="ast2843 ast2845 ast2846 ast2842 ast2853 ast2841">
      <predicate xmi:id="ast2859">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2860">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2861" name="rdSeq" eType="ast183" referredVariable="ast2843"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast2862" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2863">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2864" name="r" referredVariable="ast2845">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast2865">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast2866" name="rd" referredVariable="ast2846">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2867">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2868" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2869" name="rdSeq" eType="ast183" referredVariable="ast2843"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2870" name="tcv" referredVariable="ast2842">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2871">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2872" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2873" name="tv" referredVariable="ast2853">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2874" name="mtv" referredVariable="ast2841">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2875" name="RDomainPatternExprToMappingDomainAssignment" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2876" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2914">
      <pattern xmi:id="ast2877" bindsTo="ast2914 ast2919 ast2920 ast2916 ast2921">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2878" name="seqForAssignment" eType="ast183" bindsTo="ast2914" referredCollectionType="ast183" rest="ast2918">
          <member xsi:type="ocl.ecore:VariableExp" xmi:id="ast2879" referredVariable="ast2918">
            <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2880" name="v" bindsTo="ast2919">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2881" name="pp" bindsTo="ast2920">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
            <part xmi:id="ast2882">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2883" name="pn" referredVariable="ast2916">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EMOF.Property"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2884" name="e" bindsTo="ast2921">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
            <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2885">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2886">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2887">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2888" name="e" referredVariable="ast2921">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </source>
                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2889" eType="ast192">
                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
                </source>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
              </source>
              <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2890">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2891">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2892" name="e" referredVariable="ast2921">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </source>
                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2893" eType="ast199">
                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
                </source>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/and"/>
            </where>
            <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2894" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2915">
      <pattern xmi:id="ast2895" bindsTo="ast2915 ast2922 ast2923 ast2917 ast2924 ast2916 ast2925">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2896" name="db" bindsTo="ast2915">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2897">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2898" name="a" bindsTo="ast2922">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast2899">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2900" name="ve" bindsTo="ast2923">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2901">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2902" name="mv" referredVariable="ast2917">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast2903">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2904" name="tp" bindsTo="ast2924">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast2905">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2906" name="pn" referredVariable="ast2916">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast2907">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2908">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2909">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2910" name="mv" referredVariable="ast2917">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2911" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast2912">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2913" name="me" bindsTo="ast2925">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2914" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast2915" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2916" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2917" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2918" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2919" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2920" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2921" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast2922" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast2923" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2924" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2925" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <where xmi:id="ast2926" bindsTo="ast2919 ast2917 ast2921 ast2925">
      <predicate xmi:id="ast2927">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2928" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2929" name="v" referredVariable="ast2919">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2930" name="mv" referredVariable="ast2917">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast2931">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast2932" referredRelation="ast4159">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2933" name="e" referredVariable="ast2921">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2934" name="me" referredVariable="ast2925">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast2935" name="RDomainPatternExprToMappingDomainVarAssignment" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2936" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast2976">
      <pattern xmi:id="ast2937" bindsTo="ast2976 ast2983 ast2984 ast2985 ast2981 ast2986 ast2979">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast2938" name="seqForAssignment" eType="ast183" bindsTo="ast2976" referredCollectionType="ast183" rest="ast2982">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2939">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2940">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2941" name="sharedDomainVars" eType="ast181" referredVariable="ast2978"/>
              <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2942">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2943" name="e" referredVariable="ast2986">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                </source>
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/includes"/>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2944" name="r" bindsTo="ast2983">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2945" name="v" bindsTo="ast2984">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2946" name="pp" bindsTo="ast2985">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
            <part xmi:id="ast2947">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2948" name="pn" referredVariable="ast2981">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EMOF.Property"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2949" name="e" bindsTo="ast2986">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
            <part xmi:id="ast2950">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2951" name="rev" referredVariable="ast2979">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast2952" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast2977">
      <pattern xmi:id="ast2953" bindsTo="ast2977 ast2987 ast2988 ast2989 ast2990 ast2981 ast2991 ast2980">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2954" name="db" bindsTo="ast2977">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast2955">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.realizedVariable"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2956" name="mv" bindsTo="ast2987">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
              <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
            </value>
          </part>
          <part xmi:id="ast2957">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2958" name="a" bindsTo="ast2988">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast2959">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2960" name="ve" bindsTo="ast2989">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2961">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2962" name="mv" referredVariable="ast2987">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast2963">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2964" name="tp" bindsTo="ast2990">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast2965">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2966" name="pn" referredVariable="ast2981">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast2967">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2968">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast2969">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2970" name="mv" referredVariable="ast2987">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast2971" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast2972">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast2973" name="me" bindsTo="ast2991">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast2974">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast2975" name="mev" referredVariable="ast2980">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast2976" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast2977" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast2978" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast2979" name="rev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2980" name="mev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2981" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast2982" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast2983" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast2984" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast2985" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2986" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2987" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast2988" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast2989" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast2990" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast2991" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast2992" bindsTo="ast2978 ast2983">
      <predicate xmi:id="ast2993">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2994">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast2995" name="sharedDomainVars" eType="ast181" referredVariable="ast2978"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast2996" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast2997" name="r" referredVariable="ast2983">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast2998" bindsTo="ast2984 ast2987 ast2979 ast2980">
      <predicate xmi:id="ast2999">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3000" referredRelation="ast2047">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3001" name="v" referredVariable="ast2984">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3002" name="mv" referredVariable="ast2987">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3003">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3004" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3005" name="rev" referredVariable="ast2979">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3006" name="mev" referredVariable="ast2980">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3007" name="RDomainPatternExprToMappingDomainTemplateVarAssignment" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3008" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3047">
      <pattern xmi:id="ast3009" bindsTo="ast3047 ast3054 ast3055 ast3056 ast3052 ast3057 ast3050">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3010" name="seqForAssignment" eType="ast183" bindsTo="ast3047" referredCollectionType="ast183" rest="ast3053">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3011">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3012">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3013" name="sharedDomainVars" eType="ast181" referredVariable="ast3049"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3014" name="rev" referredVariable="ast3050">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/includes"/>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3015" name="r" bindsTo="ast3054">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3016" name="v" bindsTo="ast3055">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3017" name="pp" bindsTo="ast3056">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
            <part xmi:id="ast3018">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3019" name="pn" referredVariable="ast3052">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EMOF.Property"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3020" name="e" bindsTo="ast3057">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <part xmi:id="ast3021">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3022" name="rev" referredVariable="ast3050">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3023" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3048">
      <pattern xmi:id="ast3024" bindsTo="ast3048 ast3058 ast3059 ast3060 ast3061 ast3052 ast3062 ast3051">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3025" name="db" bindsTo="ast3048">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3026">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.realizedVariable"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3027" name="mv" bindsTo="ast3058">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
              <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
            </value>
          </part>
          <part xmi:id="ast3028">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3029" name="a" bindsTo="ast3059">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3030">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3031" name="ve" bindsTo="ast3060">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3032">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3033" name="mv" referredVariable="ast3058">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3034">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3035" name="tp" bindsTo="ast3061">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3036">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3037" name="pn" referredVariable="ast3052">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3038">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3039">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3040">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3041" name="mv" referredVariable="ast3058">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3042" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3043">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3044" name="me" bindsTo="ast3062">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3045">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3046" name="mev" referredVariable="ast3051">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3047" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast3048" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3049" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast3050" name="rev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3051" name="mev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3052" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3053" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3054" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3055" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3056" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3057" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3058" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast3059" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3060" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3061" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3062" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast3063" bindsTo="ast3049 ast3054">
      <predicate xmi:id="ast3064">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3065">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3066" name="sharedDomainVars" eType="ast181" referredVariable="ast3049"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3067" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3068" name="r" referredVariable="ast3054">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3069" bindsTo="ast3055 ast3058 ast3050 ast3051">
      <predicate xmi:id="ast3070">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3071" referredRelation="ast2047">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3072" name="v" referredVariable="ast3055">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3073" name="mv" referredVariable="ast3058">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3074">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3075" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3076" name="rev" referredVariable="ast3050">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3077" name="mev" referredVariable="ast3051">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3078" name="RDomainPatternExprToMappingBottomVarAssignment" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3079" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3118">
      <pattern xmi:id="ast3080" bindsTo="ast3118 ast3125 ast3126 ast3127 ast3123 ast3128 ast3121">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3081" name="seqForAssignment" eType="ast183" bindsTo="ast3118" referredCollectionType="ast183" rest="ast3124">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3082">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3083" name="sharedDomainVars" eType="ast181" referredVariable="ast3120"/>
            <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3084">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3085" name="e" referredVariable="ast3128">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
              </source>
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/includes"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3086" name="r" bindsTo="ast3125">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3087" name="v" bindsTo="ast3126">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3088" name="pp" bindsTo="ast3127">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
            <part xmi:id="ast3089">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3090" name="pn" referredVariable="ast3123">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EMOF.Property"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3091" name="e" bindsTo="ast3128">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
            <part xmi:id="ast3092">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3093" name="rev" referredVariable="ast3121">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3094" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3119">
      <pattern xmi:id="ast3095" bindsTo="ast3119 ast3129 ast3130 ast3131 ast3132 ast3123 ast3133 ast3122">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3096" name="mb" bindsTo="ast3119">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3097">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.realizedVariable"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3098" name="mv" bindsTo="ast3129">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
              <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
            </value>
          </part>
          <part xmi:id="ast3099">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3100" name="a" bindsTo="ast3130">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3101">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3102" name="ve" bindsTo="ast3131">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3103">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3104" name="mv" referredVariable="ast3129">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3105">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3106" name="tp" bindsTo="ast3132">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3107">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3108" name="pn" referredVariable="ast3123">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3109">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3110">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3111">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3112" name="mv" referredVariable="ast3129">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3113" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3114">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3115" name="me" bindsTo="ast3133">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3116">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3117" name="mev" referredVariable="ast3122">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3118" name="seqForAssignment" eType="ast183"/>
    <variable xmi:id="ast3119" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3120" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast3121" name="rev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3122" name="mev">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3123" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3124" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3125" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3126" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3127" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3128" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3129" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast3130" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3131" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3132" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3133" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast3134" bindsTo="ast3120 ast3125">
      <predicate xmi:id="ast3135">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3136">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3137" name="sharedDomainVars" eType="ast181" referredVariable="ast3120"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3138" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3139" name="r" referredVariable="ast3125">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3140" bindsTo="ast3126 ast3129 ast3121 ast3122">
      <predicate xmi:id="ast3141">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3142" referredRelation="ast2047">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3143" name="v" referredVariable="ast3126">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3144" name="mv" referredVariable="ast3129">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3145">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3146" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3147" name="rev" referredVariable="ast3121">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3148" name="mev" referredVariable="ast3122">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3149" name="RDomainToMDBottomForEnforcementOfNonIdentityPropPrimitive" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3150" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3219">
      <pattern xmi:id="ast3151" bindsTo="ast3219 ast3225 ast3226 ast3227 ast3228 ast3229 ast3230 ast3231 ast3221 ast3232 ast3233 ast3234 ast3235">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3152" name="rtdSeq" eType="ast183" bindsTo="ast3219" referredCollectionType="ast183" rest="ast3224">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3153" name="r" bindsTo="ast3225">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast3154">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3155" name="rt" bindsTo="ast3226">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                <referredClass href="QVT.ecore#QVTRelation.RelationalTransformation"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3156" name="te" bindsTo="ast3227">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3157">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3158">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3159">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast3160" name="collect" eType="ast214">
                    <source xsi:type="eqvtr:OppositePropertyCallExp" xmi:id="ast3161" eType="ast212">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3162" name="c" referredVariable="ast3229">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </source>
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.identifies"/>
                    </source>
                    <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3163" eType="ast213">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3164" name="temp1" referredVariable="ast3165">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                      </source>
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.part"/>
                    </body>
                    <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast3165" name="temp1">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                    </iterator>
                  </source>
                  <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3166" name="pp" referredVariable="ast3231">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/includes"/>
                </source>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
              </source>
              <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3167">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3168">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3169" name="e" referredVariable="ast3232">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </source>
                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3170" eType="ast217">
                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsKindOf"/>
                </source>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/and"/>
            </where>
            <part xmi:id="ast3171">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3172" name="v" bindsTo="ast3228">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <part xmi:id="ast3173">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3174" name="c" bindsTo="ast3229">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                    <referredClass href="QVT.ecore#EMOF.Class"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast3175">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3176" name="pt" bindsTo="ast3230">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast3177">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3178" name="pp" bindsTo="ast3231">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <part xmi:id="ast3179">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3180" name="pn" referredVariable="ast3221">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast3181">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3182" name="e" bindsTo="ast3232">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3183" name="rd" bindsTo="ast3233">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast3184">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3185" name="rdp" bindsTo="ast3234">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                <part xmi:id="ast3186">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3187" name="rdt" bindsTo="ast3235">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3188" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3220">
      <pattern xmi:id="ast3189" bindsTo="ast3220 ast3236 ast3237 ast3238 ast3239 ast3240 ast3222 ast3241 ast3221 ast3242">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3190" name="m" bindsTo="ast3220">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast3191">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Mapping.local"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3192" name="cm" bindsTo="ast3236">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
              <part xmi:id="ast3193">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3194">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3195">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3196" name="m" referredVariable="ast3220">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                    </source>
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  </source>
                  <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast3197" stringSymbol="_forNonIdentityProp">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </value>
              </part>
              <part xmi:id="ast3198">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3199" name="mt" bindsTo="ast3237">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                  <referredClass href="QVT.ecore#QVTBase.Transformation"/>
                </value>
              </part>
              <part xmi:id="ast3200">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3201" name="bp" bindsTo="ast3238">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast3202">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3203" name="a" bindsTo="ast3239">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
                      <part xmi:id="ast3204">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3205" name="ve" bindsTo="ast3240">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                          <part xmi:id="ast3206">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3207" name="mv" referredVariable="ast3222">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                        </value>
                      </part>
                      <part xmi:id="ast3208">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3209" name="tp" bindsTo="ast3241">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                          <part xmi:id="ast3210">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3211" name="pn" referredVariable="ast3221">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <part xmi:id="ast3212">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3213">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3214">
                                <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3215" name="mv" referredVariable="ast3222">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </source>
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                              </source>
                              <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3216" eType="ast209">
                                <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                              </argument>
                              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EMOF.Property"/>
                        </value>
                      </part>
                      <part xmi:id="ast3217">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3218" name="me" bindsTo="ast3242">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                          <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.Mapping"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3219" name="rtdSeq" eType="ast183"/>
    <variable xmi:id="ast3220" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast3221" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3222" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3223" name="rtdeSeq" eType="ast183"/>
    <variable xmi:id="ast3224" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3225" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3226" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast3227" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3228" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3229" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast3230" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3231" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3232" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast3233" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast3234" name="rdp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast3235" name="rdt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3236" name="cm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast3237" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast3238" name="bp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3239" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3240" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3241" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3242" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <when xmi:id="ast3243" bindsTo="ast3226 ast3237">
      <predicate xmi:id="ast3244">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3245" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3246" name="rt" referredVariable="ast3226">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3247" name="mt" referredVariable="ast3237">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3248" bindsTo="ast3228 ast3222 ast3232 ast3242 ast3223 ast3225 ast3227 ast3233 ast3236">
      <predicate xmi:id="ast3249">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3250" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3251" name="v" referredVariable="ast3228">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3252" name="mv" referredVariable="ast3222">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3253">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3254" referredRelation="ast4159">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3255" name="e" referredVariable="ast3232">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3256" name="me" referredVariable="ast3242">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3257">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3258">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3259" name="rtdeSeq" eType="ast183" referredVariable="ast3223"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast3260" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3261">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3262" name="r" referredVariable="ast3225">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3263">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3264" name="te" referredVariable="ast3227">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3265">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3266" name="rd" referredVariable="ast3233">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3267">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3268" name="e" referredVariable="ast3232">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3269">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3270" referredRelation="ast3273">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3271" name="rtdeSeq" eType="ast183" referredVariable="ast3223"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3272" name="cm" referredVariable="ast3236">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3273" name="RDomainToMComposedMappingGuard" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3274" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3352">
      <pattern xmi:id="ast3275" bindsTo="ast3352 ast3362 ast3363 ast3364 ast3365 ast3355 ast3366 ast3356 ast3367 ast3368 ast3369 ast3370 ast3371">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3276" name="rtdSeq" eType="ast183" bindsTo="ast3352" referredCollectionType="ast183" rest="ast3361">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3277" name="isVarBoundToSomeOtherTemplate" referredOperation="ast147">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3278" name="rdt" referredVariable="ast3369">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3279" name="te" referredVariable="ast3364">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </argument>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3280" name="v" referredVariable="ast3371">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3281" name="r" bindsTo="ast3362">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast3282">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3283" name="rt" bindsTo="ast3363">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                <referredClass href="QVT.ecore#QVTRelation.RelationalTransformation"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3284" name="te" bindsTo="ast3364">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3285" name="rd" bindsTo="ast3365">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast3286">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3287" name="dn" referredVariable="ast3355">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <part xmi:id="ast3288">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3289" name="dir" bindsTo="ast3366">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                <part xmi:id="ast3290">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3291" name="tmn" referredVariable="ast3356">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </value>
                </part>
                <part xmi:id="ast3292">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3293" name="up" bindsTo="ast3367">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    <referredClass href="QVT.ecore#EMOF.Package"/>
                  </value>
                </part>
                <part xmi:id="ast3294">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3295" name="rt" referredVariable="ast3363">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
              </value>
            </part>
            <part xmi:id="ast3296">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3297" name="rdp" bindsTo="ast3368">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                <part xmi:id="ast3298">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.DomainPattern.templateExpression"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3299" name="rdt" bindsTo="ast3369">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3300" name="ve" bindsTo="ast3370">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
            <part xmi:id="ast3301">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3302" name="v" bindsTo="ast3371">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3303" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3353">
      <pattern xmi:id="ast3304" bindsTo="ast3353 ast3372 ast3373 ast3374 ast3375 ast3376 ast3357 ast3377 ast3358 ast3378 ast3379 ast3380 ast3355 ast3381 ast3356 ast3367 ast3360 ast3382">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3305" name="cm" bindsTo="ast3353">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast3306">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3307" name="mg" bindsTo="ast3372">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
              <part xmi:id="ast3308">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.predicate"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3309" name="pd" bindsTo="ast3373">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
                  <part xmi:id="ast3310">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3311" name="ee" bindsTo="ast3374">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                      <part xmi:id="ast3312">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3313" name="pe" bindsTo="ast3375">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                          <part xmi:id="ast3314">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.CallExp.source"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3315" name="ve1" bindsTo="ast3376">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                              <part xmi:id="ast3316">
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3317" name="tcv" referredVariable="ast3357">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </value>
                              </part>
                              <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                            </value>
                          </part>
                          <part xmi:id="ast3318">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.PropertyCallExp.referredProperty"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3319" name="tp" bindsTo="ast3377">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                              <part xmi:id="ast3320">
                                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                                <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3321">
                                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3322" name="mv" referredVariable="ast3358">
                                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                  </source>
                                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                                </value>
                              </part>
                              <part xmi:id="ast3323">
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3324">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3325">
                                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3326" name="mv" referredVariable="ast3358">
                                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                    </source>
                                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                                  </source>
                                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3327" eType="ast209">
                                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                                  </argument>
                                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                                </value>
                              </part>
                              <referredClass href="QVT.ecore#EMOF.Property"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
                        </value>
                      </part>
                      <part xmi:id="ast3328">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.referredOperation"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3329" name="eo" bindsTo="ast3378">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                          <part xmi:id="ast3330">
                            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                            <value xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast3331" stringSymbol="=">
                              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EMOF.Operation"/>
                        </value>
                      </part>
                      <part xmi:id="ast3332">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3333" name="ve2" bindsTo="ast3379">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                          <part xmi:id="ast3334">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3335" name="mv" referredVariable="ast3358">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.Predicate"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
            </value>
          </part>
          <part xmi:id="ast3336">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3337" name="cd" bindsTo="ast3380">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
              <part xmi:id="ast3338">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3339" name="dn" referredVariable="ast3355">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast3340">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3341" name="mdir" bindsTo="ast3381">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast3342">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3343" name="tmn" referredVariable="ast3356">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3344">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3345" name="up" referredVariable="ast3367">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast3346">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3347" name="mt" referredVariable="ast3360">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <part xmi:id="ast3348">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.guardPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3349" name="cmdg" bindsTo="ast3382">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
                  <part xmi:id="ast3350">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3351" name="mv" referredVariable="ast3358">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.GuardPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3352" name="rtdSeq" eType="ast183"/>
    <variable xmi:id="ast3353" name="cm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast3354" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3355" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3356" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3357" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3358" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3359" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast3360" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast3361" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3362" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3363" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast3364" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3365" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast3366" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast3367" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast3368" name="rdp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast3369" name="rdt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3370" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3371" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3372" name="mg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <variable xmi:id="ast3373" name="pd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Predicate"/>
    </variable>
    <variable xmi:id="ast3374" name="ee">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast3375" name="pe">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.PropertyCallExp"/>
    </variable>
    <variable xmi:id="ast3376" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3377" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3378" name="eo">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
    </variable>
    <variable xmi:id="ast3379" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3380" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast3381" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast3382" name="cmdg">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.GuardPattern"/>
    </variable>
    <when xmi:id="ast3383" bindsTo="ast3363 ast3360">
      <predicate xmi:id="ast3384">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3385" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3386" name="rt" referredVariable="ast3363">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3387" name="mt" referredVariable="ast3360">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3388" bindsTo="ast3359 ast3362 ast3365 ast3357 ast3371 ast3358">
      <predicate xmi:id="ast3389">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3390">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3391" name="rdSeq" eType="ast183" referredVariable="ast3359"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast3392" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3393">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3394" name="r" referredVariable="ast3362">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3395">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3396" name="rd" referredVariable="ast3365">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3397">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3398" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3399" name="rdSeq" eType="ast183" referredVariable="ast3359"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3400" name="tcv" referredVariable="ast3357">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3401">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3402" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3403" name="v" referredVariable="ast3371">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3404" name="mv" referredVariable="ast3358">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3405" name="RDomainToMDBottomForEnforcementOfNonIdentityPropObject" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3406" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3504">
      <pattern xmi:id="ast3407" bindsTo="ast3504 ast3515 ast3516 ast3517 ast3518 ast3510 ast3519 ast3512 ast3520 ast3521 ast3522 ast3523 ast3524 ast3525 ast3511 ast3526 ast3527">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3408" name="rdtVarsSeq" eType="ast186" bindsTo="ast3504" referredCollectionType="ast186" rest="ast3514">
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3409" name="rdtSet" eType="ast185" bindsTo="ast3515" referredCollectionType="ast185" rest="ast3514">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3410" name="r" bindsTo="ast3516">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <part xmi:id="ast3411">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3412" name="rt" bindsTo="ast3517">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                  <referredClass href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3413" name="rd" bindsTo="ast3518">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <part xmi:id="ast3414">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3415" name="dn" referredVariable="ast3510">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </value>
              </part>
              <part xmi:id="ast3416">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3417" name="dir" bindsTo="ast3519">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                  <part xmi:id="ast3418">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3419" name="tmn" referredVariable="ast3512">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3420">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3421" name="up" bindsTo="ast3520">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                      <referredClass href="QVT.ecore#EMOF.Package"/>
                    </value>
                  </part>
                  <part xmi:id="ast3422">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3423" name="rt" referredVariable="ast3517">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3424" name="te" bindsTo="ast3521">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3425">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3426">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                  <source xsi:type="ocl.ecore:IteratorExp" xmi:id="ast3427" name="collect" eType="ast214">
                    <source xsi:type="eqvtr:OppositePropertyCallExp" xmi:id="ast3428" eType="ast212">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3429" name="c" referredVariable="ast3523">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </source>
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.identifies"/>
                    </source>
                    <body xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3430" eType="ast213">
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3431" name="temp1" referredVariable="ast3432">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                      </source>
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Key.part"/>
                    </body>
                    <iterator xsi:type="ocl.ecore:Variable" xmi:id="ast3432" name="temp1">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Key"/>
                    </iterator>
                  </source>
                  <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3433" name="pp" referredVariable="ast3525">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Bag(T)_Class/includes"/>
                </source>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
              </where>
              <part xmi:id="ast3434">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3435" name="v" bindsTo="ast3522">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                  <part xmi:id="ast3436">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3437" name="c" bindsTo="ast3523">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <referredClass href="QVT.ecore#EMOF.Class"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                </value>
              </part>
              <part xmi:id="ast3438">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3439" name="pt" bindsTo="ast3524">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                  <part xmi:id="ast3440">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3441" name="pp" bindsTo="ast3525">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                      <part xmi:id="ast3442">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3443" name="pn" referredVariable="ast3511">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#EMOF.Property"/>
                    </value>
                  </part>
                  <part xmi:id="ast3444">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3445" name="pte" bindsTo="ast3526">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                      <part xmi:id="ast3446">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3447" name="pv" bindsTo="ast3527">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                          <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            </member>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3448" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3505">
      <pattern xmi:id="ast3449" bindsTo="ast3505 ast3528 ast3527 ast3529 ast3530 ast3510 ast3531 ast3512 ast3520 ast3532 ast3533 ast3534 ast3535 ast3513 ast3536 ast3511 ast3537 ast3538">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3450" name="m" bindsTo="ast3505">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
          <part xmi:id="ast3451">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Mapping.local"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3452" name="cm" bindsTo="ast3528">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
              <part xmi:id="ast3453">
                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3454">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3455">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3456">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3457" name="m" referredVariable="ast3505">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                      </source>
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    </source>
                    <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast3458" stringSymbol="_for_">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </argument>
                    <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                  </source>
                  <argument xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3459">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3460" name="pv" referredVariable="ast3527">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </source>
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </value>
              </part>
              <part xmi:id="ast3461">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3462" name="mt" bindsTo="ast3529">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                  <referredClass href="QVT.ecore#QVTBase.Transformation"/>
                </value>
              </part>
              <part xmi:id="ast3463">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3464" name="cd" bindsTo="ast3530">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
                  <part xmi:id="ast3465">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3466" name="dn" referredVariable="ast3510">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3467">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTBase.Domain.isEnforceable"/>
                    <value xsi:type="ocl.ecore:BooleanLiteralExp" xmi:id="ast3468" booleanSymbol="true">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                    </value>
                  </part>
                  <part xmi:id="ast3469">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3470" name="mdir" bindsTo="ast3531">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                      <part xmi:id="ast3471">
                        <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3472" name="tmn" referredVariable="ast3512">
                          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                        </value>
                      </part>
                      <part xmi:id="ast3473">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3474" name="up" referredVariable="ast3520">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
                        </value>
                      </part>
                      <part xmi:id="ast3475">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
                        <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3476" name="mt" referredVariable="ast3529">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                    </value>
                  </part>
                  <part xmi:id="ast3477">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3478" name="cmdb" bindsTo="ast3532">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                      <part xmi:id="ast3479">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.realizedVariable"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3480" name="mpv" bindsTo="ast3533">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                          <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
                        </value>
                      </part>
                      <part xmi:id="ast3481">
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
                        <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3482" name="a" bindsTo="ast3534">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
                          <part xmi:id="ast3483">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3484" name="ve1" bindsTo="ast3535">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                              <part xmi:id="ast3485">
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3486" name="mv" referredVariable="ast3513">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                </value>
                              </part>
                              <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                            </value>
                          </part>
                          <part xmi:id="ast3487">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3488" name="tp" bindsTo="ast3536">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                              <part xmi:id="ast3489">
                                <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3490" name="pn" referredVariable="ast3511">
                                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                                </value>
                              </part>
                              <part xmi:id="ast3491">
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                                <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3492">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                                  <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3493">
                                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                                    <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3494" name="mv" referredVariable="ast3513">
                                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                                    </source>
                                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                                  </source>
                                  <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3495" eType="ast209">
                                    <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                                  </argument>
                                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                                </value>
                              </part>
                              <referredClass href="QVT.ecore#EMOF.Property"/>
                            </value>
                          </part>
                          <part xmi:id="ast3496">
                            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3497" name="ve2" bindsTo="ast3537">
                              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                              <part xmi:id="ast3498">
                                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                                <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3499" name="mpv" referredVariable="ast3533">
                                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
                                </value>
                              </part>
                              <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                            </value>
                          </part>
                          <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
                        </value>
                      </part>
                      <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.CoreDomain"/>
                </value>
              </part>
              <part xmi:id="ast3500">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Area.bottomPattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3501" name="mb" bindsTo="ast3538">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
                  <part xmi:id="ast3502">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3503" name="cm" referredVariable="ast3528">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.Mapping"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.Mapping"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3504" name="rdtVarsSeq" eType="ast186"/>
    <variable xmi:id="ast3505" name="m">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast3506" name="rdtSetNext" eType="ast185"/>
    <variable xmi:id="ast3507" name="rdtVarsSeqRest" eType="ast186"/>
    <variable xmi:id="ast3508" name="predicatesWithoutVarBindings" eType="ast182"/>
    <variable xmi:id="ast3509" name="unboundDomainVars" eType="ast181"/>
    <variable xmi:id="ast3510" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3511" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3512" name="tmn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3513" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3514" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3515" name="rdtSet" eType="ast185"/>
    <variable xmi:id="ast3516" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3517" name="rt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
    </variable>
    <variable xmi:id="ast3518" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast3519" name="dir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast3520" name="up">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Package"/>
    </variable>
    <variable xmi:id="ast3521" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3522" name="v">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3523" name="c">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast3524" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3525" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3526" name="pte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3527" name="pv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3528" name="cm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.Mapping"/>
    </variable>
    <variable xmi:id="ast3529" name="mt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
    </variable>
    <variable xmi:id="ast3530" name="cd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.CoreDomain"/>
    </variable>
    <variable xmi:id="ast3531" name="mdir">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast3532" name="cmdb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3533" name="mpv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast3534" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3535" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3536" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3537" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3538" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <when xmi:id="ast3539" bindsTo="ast3517 ast3529">
      <predicate xmi:id="ast3540">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3541" referredRelation="ast222">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3542" name="rt" referredVariable="ast3517">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationalTransformation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3543" name="mt" referredVariable="ast3529">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.Transformation"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3544" bindsTo="ast3522 ast3513 ast3527 ast3533 ast3504 ast3508 ast3509 ast3506 ast3516 ast3518 ast3526 ast3507 ast3532">
      <predicate xmi:id="ast3545">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3546" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3547" name="v" referredVariable="ast3522">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3548" name="mv" referredVariable="ast3513">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3549">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3550" referredRelation="ast2047">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3551" name="pv" referredVariable="ast3527">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3552" name="mpv" referredVariable="ast3533">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3553">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3554">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3555" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3556" name="rdtVarsSeq" eType="ast186" referredVariable="ast3504"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast3557" integerSymbol="2">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3558" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast3508"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3559">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3560">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3561" eType="ast185">
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3562" name="rdtVarsSeq" eType="ast186" referredVariable="ast3504"/>
            <argument xsi:type="ocl.ecore:IntegerLiteralExp" xmi:id="ast3563" integerSymbol="3">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/at"/>
          </source>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3564" name="unboundDomainVars" eType="ast181" referredVariable="ast3509"/>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3565">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3566">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3567" name="rdtSetNext" eType="ast185" referredVariable="ast3506"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast3568" eType="ast206">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3569">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3570" name="r" referredVariable="ast3516">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3571">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3572" name="rd" referredVariable="ast3518">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3573">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3574" name="pte" referredVariable="ast3526">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3575">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3576">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3577" name="rdtVarsSeqRest" eType="ast186" referredVariable="ast3507"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast3578" eType="ast186" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3579" eType="ast185">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3580" name="rdtSetNext" eType="ast185" referredVariable="ast3506"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3581" eType="ast182">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3582" name="predicatesWithoutVarBindings" eType="ast182" referredVariable="ast3508"/>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3583" eType="ast181">
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3584" name="unboundDomainVars" eType="ast181" referredVariable="ast3509"/>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3585">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3586" referredRelation="ast2377">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3587" name="rdtVarsSeqRest" eType="ast186" referredVariable="ast3507"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3588" name="cmdb" referredVariable="ast3532">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3589" name="RDomainPatternToMDBottomPatternComposite" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3590" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3629">
      <pattern xmi:id="ast3591" bindsTo="ast3629 ast3637 ast3638 ast3639 ast3640 ast3641 ast3633 ast3642 ast3643">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3592" name="seqForDomainPtrn" eType="ast183" bindsTo="ast3629" referredCollectionType="ast183" rest="ast3636">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3593" name="r" bindsTo="ast3637">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3594" name="te" bindsTo="ast3638">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <part xmi:id="ast3595">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3596" name="vte" bindsTo="ast3639">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast3597">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3598" name="pt" bindsTo="ast3640">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast3599">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3600" name="pp" bindsTo="ast3641">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <part xmi:id="ast3601">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3602" name="pn" referredVariable="ast3633">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast3603">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3604" name="pte" bindsTo="ast3642">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                    <part xmi:id="ast3605">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3606" name="vpte" bindsTo="ast3643">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3607" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3630">
      <pattern xmi:id="ast3608" bindsTo="ast3630 ast3644 ast3645 ast3634 ast3646 ast3633 ast3647 ast3635">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3609" name="db" bindsTo="ast3630">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3610">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3611" name="a" bindsTo="ast3644">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3612">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3613" name="ve1" bindsTo="ast3645">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3614">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3615" name="mvte" referredVariable="ast3634">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3616">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3617" name="tp" bindsTo="ast3646">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3618">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3619" name="pn" referredVariable="ast3633">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3620">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3621">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3622">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3623" name="mvte" referredVariable="ast3634">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3624" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3625">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3626" name="ve2" bindsTo="ast3647">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3627">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3628" name="mvpte" referredVariable="ast3635">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3629" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast3630" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3631" name="nextSeqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast3632" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast3633" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3634" name="mvte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3635" name="mvpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3636" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3637" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3638" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3639" name="vte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3640" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3641" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3642" name="pte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3643" name="vpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3644" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3645" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3646" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3647" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast3648" bindsTo="ast3639 ast3634 ast3643 ast3635 ast3631 ast3637 ast3642 ast3630">
      <predicate xmi:id="ast3649">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3650" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3651" name="vte" referredVariable="ast3639">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3652" name="mvte" referredVariable="ast3634">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3653">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3654" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3655" name="vpte" referredVariable="ast3643">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3656" name="mvpte" referredVariable="ast3635">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3657">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3658">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3659" name="nextSeqForDomainPtrn" eType="ast183" referredVariable="ast3631"/>
          <argument xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast3660" eType="ast205" kind="Sequence">
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3661">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3662" name="r" referredVariable="ast3637">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              </item>
            </part>
            <part xsi:type="ocl.ecore:CollectionItem" xmi:id="ast3663">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              <item xsi:type="ocl.ecore:VariableExp" xmi:id="ast3664" name="pte" referredVariable="ast3642">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
              </item>
            </part>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3665">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3666" referredRelation="ast2340">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3667" name="nextSeqForDomainPtrn" eType="ast183" referredVariable="ast3631"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3668" name="db" referredVariable="ast3630">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3669" name="RDomainPatternToMDBottomPatternSimpleUnSharedVarExpr" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3670" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3713">
      <pattern xmi:id="ast3671" bindsTo="ast3713 ast3720 ast3721 ast3722 ast3723 ast3724 ast3716 ast3725 ast3726">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3672" name="seqForDomainPtrn" eType="ast183" bindsTo="ast3713" referredCollectionType="ast183" rest="ast3719">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3673">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3674">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3675" name="sharedDomainVars" eType="ast181" referredVariable="ast3715"/>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3676" name="vpte" referredVariable="ast3726">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/includes"/>
            </source>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3677" name="r" bindsTo="ast3720">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3678" name="te" bindsTo="ast3721">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <part xmi:id="ast3679">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3680" name="vte" bindsTo="ast3722">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast3681">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3682" name="pt" bindsTo="ast3723">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast3683">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3684" name="pp" bindsTo="ast3724">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <part xmi:id="ast3685">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3686" name="pn" referredVariable="ast3716">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast3687">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3688" name="e" bindsTo="ast3725">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                    <part xmi:id="ast3689">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3690" name="vpte" bindsTo="ast3726">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3691" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3714">
      <pattern xmi:id="ast3692" bindsTo="ast3714 ast3727 ast3728 ast3717 ast3729 ast3716 ast3730 ast3718">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3693" name="db" bindsTo="ast3714">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3694">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3695" name="a" bindsTo="ast3727">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3696">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3697" name="ve1" bindsTo="ast3728">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3698">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3699" name="mvte" referredVariable="ast3717">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3700">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3701" name="tp" bindsTo="ast3729">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3702">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3703" name="pn" referredVariable="ast3716">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3704">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3705">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3706">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3707" name="mvte" referredVariable="ast3717">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3708" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3709">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3710" name="ve2" bindsTo="ast3730">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3711">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3712" name="mvpte" referredVariable="ast3718">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3713" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast3714" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3715" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast3716" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3717" name="mvte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3718" name="mvpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3719" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3720" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3721" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3722" name="vte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3723" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3724" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3725" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3726" name="vpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3727" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3728" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3729" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3730" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast3731" bindsTo="ast3715 ast3720">
      <predicate xmi:id="ast3732">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3733">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3734" name="sharedDomainVars" eType="ast181" referredVariable="ast3715"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3735" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3736" name="r" referredVariable="ast3720">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3737" bindsTo="ast3722 ast3717 ast3726 ast3718">
      <predicate xmi:id="ast3738">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3739" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3740" name="vte" referredVariable="ast3722">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3741" name="mvte" referredVariable="ast3717">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3742">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3743" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3744" name="vpte" referredVariable="ast3726">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3745" name="mvpte" referredVariable="ast3718">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3746" name="RDomainPatternToMDBottomPatternSimpleSharedVarExpr" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3747" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3789">
      <pattern xmi:id="ast3748" bindsTo="ast3789 ast3796 ast3797 ast3798 ast3799 ast3800 ast3792 ast3801 ast3802">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3749" name="seqForDomainPtrn" eType="ast183" bindsTo="ast3789" referredCollectionType="ast183" rest="ast3795">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3750">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3751" name="sharedDomainVars" eType="ast181" referredVariable="ast3791"/>
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3752" name="vpte" referredVariable="ast3802">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/includes"/>
          </where>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3753" name="r" bindsTo="ast3796">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3754" name="te" bindsTo="ast3797">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <part xmi:id="ast3755">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3756" name="vte" bindsTo="ast3798">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast3757">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3758" name="pt" bindsTo="ast3799">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast3759">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3760" name="pp" bindsTo="ast3800">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <part xmi:id="ast3761">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3762" name="pn" referredVariable="ast3792">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast3763">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3764" name="e" bindsTo="ast3801">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                    <part xmi:id="ast3765">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3766" name="vpte" bindsTo="ast3802">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3767" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3790">
      <pattern xmi:id="ast3768" bindsTo="ast3790 ast3803 ast3804 ast3793 ast3805 ast3792 ast3806 ast3794">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3769" name="mb" bindsTo="ast3790">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3770">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3771" name="a" bindsTo="ast3803">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3772">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3773" name="ve1" bindsTo="ast3804">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3774">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3775" name="mvte" referredVariable="ast3793">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3776">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3777" name="tp" bindsTo="ast3805">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3778">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3779" name="pn" referredVariable="ast3792">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3780">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3781">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3782">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3783" name="mvte" referredVariable="ast3793">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3784" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3785">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3786" name="ve2" bindsTo="ast3806">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3787">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3788" name="mvpte" referredVariable="ast3794">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3789" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast3790" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3791" name="sharedDomainVars" eType="ast181"/>
    <variable xmi:id="ast3792" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3793" name="mvte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3794" name="mvpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3795" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3796" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3797" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3798" name="vte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3799" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3800" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3801" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3802" name="vpte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3803" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3804" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3805" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3806" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <when xmi:id="ast3807" bindsTo="ast3791 ast3796">
      <predicate xmi:id="ast3808">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3809">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3810" name="sharedDomainVars" eType="ast181" referredVariable="ast3791"/>
          <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3811" name="getSharedDomainVars" eType="ast181" referredOperation="ast2">
            <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3812" name="r" referredVariable="ast3796">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            </argument>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Set(T)_Class/="/>
        </conditionExpression>
      </predicate>
    </when>
    <where xmi:id="ast3813" bindsTo="ast3798 ast3793 ast3802 ast3794">
      <predicate xmi:id="ast3814">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3815" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3816" name="vte" referredVariable="ast3798">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3817" name="mvte" referredVariable="ast3793">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3818">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3819" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3820" name="vpte" referredVariable="ast3802">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3821" name="mvpte" referredVariable="ast3794">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3822" name="RDomainPatternToMDBottomPatternSimpleNonVarExpr" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3823" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3867">
      <pattern xmi:id="ast3824" bindsTo="ast3867 ast3872 ast3873 ast3874 ast3875 ast3869 ast3876">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3825" name="seqForDomainPtrn" eType="ast183" bindsTo="ast3867" referredCollectionType="ast183" rest="ast3871">
          <where xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3826">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
            <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3827">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3828">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3829" name="e" referredVariable="ast3876">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3830" eType="ast217">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsKindOf"/>
              </source>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
            </source>
            <argument xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3831">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3832">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3833" name="e" referredVariable="ast3876">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                </source>
                <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3834" eType="ast192">
                  <referredType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclIsTypeOf"/>
              </source>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/not"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean_Class/and"/>
          </where>
          <member xsi:type="ocl.ecore:VariableExp" xmi:id="ast3835" referredVariable="ast3871">
            <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3836" name="te" bindsTo="ast3872">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
            <part xmi:id="ast3837">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3838" name="vte" bindsTo="ast3873">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
              </value>
            </part>
            <part xmi:id="ast3839">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.ObjectTemplateExp.part"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3840" name="pt" bindsTo="ast3874">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
                <part xmi:id="ast3841">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.referredProperty"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3842" name="pp" bindsTo="ast3875">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                    <part xmi:id="ast3843">
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3844" name="pn" referredVariable="ast3869">
                        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EMOF.Property"/>
                  </value>
                </part>
                <part xmi:id="ast3845">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.PropertyTemplateItem.value"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3846" name="e" bindsTo="ast3876">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                    <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3847" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3868">
      <pattern xmi:id="ast3848" bindsTo="ast3868 ast3877 ast3878 ast3870 ast3879 ast3869 ast3880">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3849" name="db" bindsTo="ast3868">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3850">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3851" name="a" bindsTo="ast3877">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3852">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3853" name="ve" bindsTo="ast3878">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3854">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3855" name="mvte" referredVariable="ast3870">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3856">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3857" name="tp" bindsTo="ast3879">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3858">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3859" name="pn" referredVariable="ast3869">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                    </value>
                  </part>
                  <part xmi:id="ast3860">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3861">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3862">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3863" name="mvte" referredVariable="ast3870">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3864" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3865">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3866" name="me" bindsTo="ast3880">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
                  <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3867" name="seqForDomainPtrn" eType="ast183"/>
    <variable xmi:id="ast3868" name="db">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3869" name="pn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast3870" name="mvte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3871" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3872" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.ObjectTemplateExp"/>
    </variable>
    <variable xmi:id="ast3873" name="vte">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3874" name="pt">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.PropertyTemplateItem"/>
    </variable>
    <variable xmi:id="ast3875" name="pp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3876" name="e">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast3877" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3878" name="ve">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3879" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3880" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <where xmi:id="ast3881" bindsTo="ast3873 ast3870 ast3876 ast3880">
      <predicate xmi:id="ast3882">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3883" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3884" name="vte" referredVariable="ast3873">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3885" name="mvte" referredVariable="ast3870">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3886">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3887" referredRelation="ast4159">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3888" name="e" referredVariable="ast3876">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3889" name="me" referredVariable="ast3880">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3890" name="RDomainVarsToTraceClassProps" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3891" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3926">
      <pattern xmi:id="ast3892" bindsTo="ast3926 ast3930 ast3931 ast3932 ast3934 ast3935">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3893" name="rd" bindsTo="ast3926">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
          <part xmi:id="ast3894">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.rule"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3895" name="r" bindsTo="ast3930">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </value>
          </part>
          <part xmi:id="ast3896">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3897" name="dp" bindsTo="ast3931">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
              <part xmi:id="ast3898">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3899" name="domainVars" eType="ast181" bindsTo="ast3932" referredCollectionType="ast181" rest="ast3933">
                  <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3900" name="dv" bindsTo="ast3934">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    <part xmi:id="ast3901" isOpposite="true">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                      <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3902" name="te" bindsTo="ast3935">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
                        <referredClass href="QVT.ecore#QVTTemplate.TemplateExp"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                  </member>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3903" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3927">
      <pattern xmi:id="ast3904" bindsTo="ast3927 ast3936 ast3937 ast3928 ast3938 ast3934 ast3939 ast3929">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3905" name="mb" bindsTo="ast3927">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3906">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3907" name="a" bindsTo="ast3936">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3908">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3909" name="ve1" bindsTo="ast3937">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3910">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3911" name="tcv" referredVariable="ast3928">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3912">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3913" name="tp" bindsTo="ast3938">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3914">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3915">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3916" name="dv" referredVariable="ast3934">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      </source>
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    </value>
                  </part>
                  <part xmi:id="ast3917">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3918">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3919">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3920" name="tcv" referredVariable="ast3928">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3921" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3922">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3923" name="ve2" bindsTo="ast3939">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3924">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3925" name="mdv" referredVariable="ast3929">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3926" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast3927" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3928" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3929" name="mdv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3930" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3931" name="dp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast3932" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast3933" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3934" name="dv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3935" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
    </variable>
    <variable xmi:id="ast3936" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3937" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3938" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3939" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast3940" bindsTo="ast3930 ast3928 ast3934 ast3929">
      <predicate xmi:id="ast3941">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3942" referredRelation="ast4099">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3943" name="r" referredVariable="ast3930">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3944" name="tcv" referredVariable="ast3928">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast3945">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast3946" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3947" name="dv" referredVariable="ast3934">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast3948" name="mdv" referredVariable="ast3929">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast3949" name="ROppositeDomainVarsToTraceClassProps" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3950" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast3983">
      <pattern xmi:id="ast3951" bindsTo="ast3983 ast3989 ast3990 ast3991 ast3992 ast3993 ast3994">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3952" name="rdVarsSeq" eType="ast186" bindsTo="ast3983" referredCollectionType="ast186" rest="ast3988">
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3953" name="rdSet" eType="ast185" bindsTo="ast3989" referredCollectionType="ast185" rest="ast3988">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3954" name="r" bindsTo="ast3990">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
              <referredClass href="QVT.ecore#QVTRelation.Relation"/>
            </member>
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3955" name="rd" bindsTo="ast3991">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </member>
          </member>
          <member xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast3956" name="domainVars" eType="ast181" bindsTo="ast3992" referredCollectionType="ast181" rest="ast3988">
            <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3957" name="dv" bindsTo="ast3993">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
              <part xmi:id="ast3958" isOpposite="true">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTTemplate.TemplateExp.bindsTo"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3959" name="te" bindsTo="ast3994">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
                  <referredClass href="QVT.ecore#QVTTemplate.TemplateExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
            </member>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast3960" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast3984">
      <pattern xmi:id="ast3961" bindsTo="ast3984 ast3995 ast3996 ast3986 ast3997 ast3993 ast3998 ast3987">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3962" name="mb" bindsTo="ast3984">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast3963">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.assignment"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3964" name="a" bindsTo="ast3995">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
              <part xmi:id="ast3965">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.slotExpression"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3966" name="ve1" bindsTo="ast3996">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3967">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3968" name="tcv" referredVariable="ast3986">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <part xmi:id="ast3969">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.PropertyAssignment.targetProperty"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3970" name="tp" bindsTo="ast3997">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
                  <part xmi:id="ast3971">
                    <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    <value xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3972">
                      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                      <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3973" name="dv" referredVariable="ast3993">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      </source>
                      <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
                    </value>
                  </part>
                  <part xmi:id="ast3974">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
                    <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast3975">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      <source xsi:type="ocl.ecore:PropertyCallExp" xmi:id="ast3976">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Type"/>
                        <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast3977" name="tcv" referredVariable="ast3986">
                          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                        </source>
                        <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
                      </source>
                      <argument xsi:type="ocl.ecore:TypeExp" xmi:id="ast3978" eType="ast209">
                        <referredType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
                      </argument>
                      <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny_Class/oclAsType"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EMOF.Property"/>
                </value>
              </part>
              <part xmi:id="ast3979">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.Assignment.value"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast3980" name="ve2" bindsTo="ast3998">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
                  <part xmi:id="ast3981">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                    <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast3982" name="mdv" referredVariable="ast3987">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTCore.PropertyAssignment"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast3983" name="rdVarsSeq" eType="ast186"/>
    <variable xmi:id="ast3984" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast3985" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast3986" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3987" name="mdv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3988" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast3989" name="rdSet" eType="ast185"/>
    <variable xmi:id="ast3990" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast3991" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast3992" name="domainVars" eType="ast181"/>
    <variable xmi:id="ast3993" name="dv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast3994" name="te">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTTemplate.TemplateExp"/>
    </variable>
    <variable xmi:id="ast3995" name="a">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.PropertyAssignment"/>
    </variable>
    <variable xmi:id="ast3996" name="ve1">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast3997" name="tp">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Property"/>
    </variable>
    <variable xmi:id="ast3998" name="ve2">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <where xmi:id="ast3999" bindsTo="ast3985 ast3990 ast3991 ast3986 ast3993 ast3987">
      <predicate xmi:id="ast4000">
        <conditionExpression xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4001">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast4002" name="rdSeq" eType="ast183" referredVariable="ast3985"/>
          <argument xsi:type="ocl.ecore:LetExp" xmi:id="ast4003" eType="ast183">
            <in xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4004" eType="ast183">
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4005" eType="ast183">
                <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast4006" name="s" eType="ast183" referredVariable="ast4009"/>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4007" name="r" referredVariable="ast3990">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/append"/>
              </source>
              <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4008" name="rd" referredVariable="ast3991">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/append"/>
            </in>
            <variable xsi:type="ocl.ecore:Variable" xmi:id="ast4009" name="s" eType="ast183">
              <initExpression xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast4010" eType="ast211" kind="Sequence"/>
            </variable>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)_Class/="/>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast4011">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4012" referredRelation="ast4123">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4013" name="rdSeq" eType="ast183" referredVariable="ast3985"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4014" name="tcv" referredVariable="ast3986">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
      <predicate xmi:id="ast4015">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4016" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4017" name="dv" referredVariable="ast3993">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4018" name="mdv" referredVariable="ast3987">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast4019" name="RRelImplToMBottomEnforcementOperation" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4020" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast4052">
      <pattern xmi:id="ast4021" bindsTo="ast4052 ast4056 ast4057 ast4058 ast4059 ast4060">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast4022" name="repImplSeq" eType="ast183" bindsTo="ast4052" referredCollectionType="ast183" rest="ast4055">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4023" name="r" bindsTo="ast4056">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast4024">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.Relation.operationalImpl"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4025" name="ri" bindsTo="ast4057">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationImplementation"/>
                <part xmi:id="ast4026">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationImplementation.inDirectionOf"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4027" name="tm" bindsTo="ast4058">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                    <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
                  </value>
                </part>
                <part xmi:id="ast4028">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationImplementation.impl"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4029" name="op" bindsTo="ast4059">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                    <referredClass href="QVT.ecore#EMOF.Operation"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTRelation.RelationImplementation"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4030" name="rd" bindsTo="ast4060">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast4031">
              <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.typedModel"/>
              <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4032" name="tm" bindsTo="ast4058">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
                <referredClass href="QVT.ecore#QVTBase.TypedModel"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4033" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast4053">
      <pattern xmi:id="ast4034" bindsTo="ast4053 ast4061 ast4062 ast4063 ast4059 ast4064 ast4054">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4035" name="mb" bindsTo="ast4053">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
          <part xmi:id="ast4036">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.enforcementOperation"/>
            <value xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast4037" name="eoSet" eType="ast218" bindsTo="ast4061" referredCollectionType="ast218" rest="ast4054">
              <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4038" name="eoc" bindsTo="ast4062">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.EnforcementOperation"/>
                <part xmi:id="ast4039">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTCore.EnforcementOperation.enforcementMode"/>
                  <value xsi:type="ocl.ecore:EnumLiteralExp" xmi:id="ast4040">
                    <eType xsi:type="ecore:EEnum" href="QVT.ecore#QVTCore.EnforcementMode"/>
                    <referredEnumLiteral xsi:type="ecore:EEnumLiteral" href="QVT.ecore#QVTCore.EnforcementMode.Creation"/>
                  </value>
                </part>
                <part xmi:id="ast4041">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.EnforcementOperation.operationCallExp"/>
                  <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4042" name="oce" bindsTo="ast4063">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                    <part xmi:id="ast4043">
                      <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.referredOperation"/>
                      <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4044" name="op" referredVariable="ast4059">
                        <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
                      </value>
                    </part>
                    <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTCore.EnforcementOperation"/>
              </member>
              <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4045" name="eod" bindsTo="ast4064">
                <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.EnforcementOperation"/>
                <part xmi:id="ast4046">
                  <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#QVTCore.EnforcementOperation.enforcementMode"/>
                  <value xsi:type="ocl.ecore:EnumLiteralExp" xmi:id="ast4047">
                    <eType xsi:type="ecore:EEnum" href="QVT.ecore#QVTCore.EnforcementMode"/>
                    <referredEnumLiteral xsi:type="ecore:EEnumLiteral" href="QVT.ecore#QVTCore.EnforcementMode.Deletion"/>
                  </value>
                </part>
                <part xmi:id="ast4048">
                  <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.EnforcementOperation.operationCallExp"/>
                  <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4049" name="oce" referredVariable="ast4063">
                    <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
                  </value>
                </part>
                <referredClass href="QVT.ecore#QVTCore.EnforcementOperation"/>
              </member>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.BottomPattern"/>
        </templateExpression>
      </pattern>
      <defaultAssignment xmi:id="ast4050" variable="ast4054">
        <valueExp xsi:type="ocl.ecore:CollectionLiteralExp" xmi:id="ast4051" eType="ast189"/>
      </defaultAssignment>
    </domain>
    <variable xmi:id="ast4052" name="repImplSeq" eType="ast183"/>
    <variable xmi:id="ast4053" name="mb">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.BottomPattern"/>
    </variable>
    <variable xmi:id="ast4054" name="emptySet" eType="ast218"/>
    <variable xmi:id="ast4055" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast4056" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast4057" name="ri">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationImplementation"/>
    </variable>
    <variable xmi:id="ast4058" name="tm">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTBase.TypedModel"/>
    </variable>
    <variable xmi:id="ast4059" name="op">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Operation"/>
    </variable>
    <variable xmi:id="ast4060" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast4061" name="eoSet" eType="ast218"/>
    <variable xmi:id="ast4062" name="eoc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.EnforcementOperation"/>
    </variable>
    <variable xmi:id="ast4063" name="oce">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast4064" name="eod">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.EnforcementOperation"/>
    </variable>
    <where xmi:id="ast4065" bindsTo="ast4056 ast4063">
      <predicate xmi:id="ast4066">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4067" referredRelation="ast4070">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4068" name="r" referredVariable="ast4056">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4069" name="oce" referredVariable="ast4063">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast4070" name="RRelDomainsToMOpCallArg" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4071" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast4087">
      <pattern xmi:id="ast4072" bindsTo="ast4087 ast4089 ast4090 ast4091">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4073" name="r" bindsTo="ast4087">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast4074">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.domain"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4075" name="rd" bindsTo="ast4089">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
              <part xmi:id="ast4076">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTRelation.RelationDomain.pattern"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4077" name="p" bindsTo="ast4090">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
                  <part xmi:id="ast4078">
                    <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Pattern.bindsTo"/>
                    <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4079" name="rv" bindsTo="ast4091">
                      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                      <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                    </value>
                  </part>
                  <referredClass href="QVT.ecore#QVTRelation.DomainPattern"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4080" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast4088">
      <pattern xmi:id="ast4081" bindsTo="ast4088 ast4092 ast4093">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4082" name="oce" bindsTo="ast4088">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
          <part xmi:id="ast4083">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.OperationCallExp.argument"/>
            <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4084" name="ar" bindsTo="ast4092">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
              <part xmi:id="ast4085">
                <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EssentialOCL.VariableExp.referredVariable"/>
                <value xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4086" name="mv" bindsTo="ast4093">
                  <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
                  <referredClass href="QVT.ecore#EssentialOCL.Variable"/>
                </value>
              </part>
              <referredClass href="QVT.ecore#EssentialOCL.VariableExp"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#EssentialOCL.OperationCallExp"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast4087" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast4088" name="oce">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OperationCallExp"/>
    </variable>
    <variable xmi:id="ast4089" name="rd">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <variable xmi:id="ast4090" name="p">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.DomainPattern"/>
    </variable>
    <variable xmi:id="ast4091" name="rv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <variable xmi:id="ast4092" name="ar">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.VariableExp"/>
    </variable>
    <variable xmi:id="ast4093" name="mv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
    </variable>
    <where xmi:id="ast4094" bindsTo="ast4091 ast4093">
      <predicate xmi:id="ast4095">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4096" referredRelation="ast2028">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4097" name="rv" referredVariable="ast4091">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4098" name="mv" referredVariable="ast4093">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.Variable"/>
          </argument>
        </conditionExpression>
      </predicate>
    </where>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast4099" name="RelationToTraceClassVar" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4100" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast4114">
      <pattern xmi:id="ast4101" bindsTo="ast4114 ast4116">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4102" name="r" bindsTo="ast4114">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          <part xmi:id="ast4103">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4104" name="rn" referredVariable="ast4116">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTRelation.Relation"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4105" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast4115">
      <pattern xmi:id="ast4106" bindsTo="ast4115 ast4116 ast4117">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4107" name="tcv" bindsTo="ast4115">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          <part xmi:id="ast4108">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4109">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast4110" name="rn" referredVariable="ast4116">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </source>
              <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast4111" stringSymbol="_v">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast4112">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4113" name="tc" referredVariable="ast4117">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast4114" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast4115" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast4116" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast4117" name="tc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <when xmi:id="ast4118" bindsTo="ast4114 ast4117">
      <predicate xmi:id="ast4119">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4120" referredRelation="ast252">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4121" name="r" referredVariable="ast4114">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4122" name="tc" referredVariable="ast4117">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast4123" name="RelationDomainToTraceClassVar" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4124" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast4146">
      <pattern xmi:id="ast4125" bindsTo="ast4146 ast4152 ast4148 ast4153 ast4149">
        <templateExpression xsi:type="eqvtt:CollectionTemplateExp" xmi:id="ast4126" name="rdSeq" eType="ast183" bindsTo="ast4146" referredCollectionType="ast183" rest="ast4151">
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4127" name="r" bindsTo="ast4152">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
            <part xmi:id="ast4128">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4129" name="rn" referredVariable="ast4148">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.Relation"/>
          </member>
          <member xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4130" name="d" bindsTo="ast4153">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
            <part xmi:id="ast4131">
              <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
              <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4132" name="dn" referredVariable="ast4149">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </value>
            </part>
            <referredClass href="QVT.ecore#QVTRelation.RelationDomain"/>
          </member>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4133" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast4147">
      <pattern xmi:id="ast4134" bindsTo="ast4147 ast4148 ast4149 ast4150">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4135" name="tcv" bindsTo="ast4147">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
          <part xmi:id="ast4136">
            <referredProperty xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
            <value xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4137">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4138">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                <source xsi:type="ocl.ecore:OperationCallExp" xmi:id="ast4139">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  <source xsi:type="ocl.ecore:VariableExp" xmi:id="ast4140" name="rn" referredVariable="ast4148">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </source>
                  <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast4141" stringSymbol="_">
                    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                  </argument>
                  <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
                </source>
                <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4142" name="dn" referredVariable="ast4149">
                  <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
                </argument>
                <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
              </source>
              <argument xsi:type="ocl.ecore:StringLiteralExp" xmi:id="ast4143" stringSymbol="_v">
                <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
              </argument>
              <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
            </value>
          </part>
          <part xmi:id="ast4144">
            <referredProperty xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
            <value xsi:type="ocl.ecore:VariableExp" xmi:id="ast4145" name="tc" referredVariable="ast4150">
              <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
            </value>
          </part>
          <referredClass href="QVT.ecore#QVTCore.RealizedVariable"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast4146" name="rdSeq" eType="ast183"/>
    <variable xmi:id="ast4147" name="tcv">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTCore.RealizedVariable"/>
    </variable>
    <variable xmi:id="ast4148" name="rn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast4149" name="dn">
      <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
    </variable>
    <variable xmi:id="ast4150" name="tc">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
    </variable>
    <variable xmi:id="ast4151" name="_">
      <eType xsi:type="ocl.ecore:AnyType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
    </variable>
    <variable xmi:id="ast4152" name="r">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
    </variable>
    <variable xmi:id="ast4153" name="d">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.RelationDomain"/>
    </variable>
    <when xmi:id="ast4154" bindsTo="ast4152 ast4150">
      <predicate xmi:id="ast4155">
        <conditionExpression xsi:type="eqvtr:RelationCallExp" xmi:id="ast4156" referredRelation="ast252">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Boolean"/>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4157" name="r" referredVariable="ast4152">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#QVTRelation.Relation"/>
          </argument>
          <argument xsi:type="ocl.ecore:VariableExp" xmi:id="ast4158" name="tc" referredVariable="ast4150">
            <eType xsi:type="ecore:EClass" href="QVT.ecore#EMOF.Class"/>
          </argument>
        </conditionExpression>
      </predicate>
    </when>
  </rule>
  <rule xsi:type="eqvtr:Relation" xmi:id="ast4159" name="RExpToMExp" isTopLevel="false">
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4160" name="relations" isCheckable="true" isEnforceable="false" typedModel="ast220" rootVariable="ast4166">
      <pattern xmi:id="ast4161" bindsTo="ast4166">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4162" name="re" bindsTo="ast4166">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
        </templateExpression>
      </pattern>
    </domain>
    <domain xsi:type="eqvtr:RelationDomain" xmi:id="ast4163" name="core" isCheckable="false" isEnforceable="true" typedModel="ast221" rootVariable="ast4167">
      <pattern xmi:id="ast4164" bindsTo="ast4167">
        <templateExpression xsi:type="eqvtt:ObjectTemplateExp" xmi:id="ast4165" name="me" bindsTo="ast4167">
          <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
          <referredClass href="QVT.ecore#EssentialOCL.OclExpression"/>
        </templateExpression>
      </pattern>
    </domain>
    <variable xmi:id="ast4166" name="re">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
    <variable xmi:id="ast4167" name="me">
      <eType xsi:type="ecore:EClass" href="QVT.ecore#EssentialOCL.OclExpression"/>
    </variable>
  </rule>
  <ownedKey xmi:id="ast4168">
    <identifies href="QVT.ecore#QVTCore.Mapping"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Rule.transformation"/>
  </ownedKey>
  <ownedKey xmi:id="ast4169">
    <identifies href="QVT.ecore#QVTCore.GuardPattern"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.GuardPattern.area"/>
  </ownedKey>
  <ownedKey xmi:id="ast4170">
    <identifies href="QVT.ecore#QVTCore.BottomPattern"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTCore.BottomPattern.area"/>
  </ownedKey>
  <ownedKey xmi:id="ast4171">
    <identifies href="QVT.ecore#EssentialOCL.Variable"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#EMOF.TypedElement.type"/>
  </ownedKey>
  <ownedKey xmi:id="ast4172">
    <identifies href="QVT.ecore#EMOF.Type"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
  </ownedKey>
  <ownedKey xmi:id="ast4173">
    <identifies href="QVT.ecore#EMOF.Class"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
  </ownedKey>
  <ownedKey xmi:id="ast4174">
    <identifies href="QVT.ecore#EMOF.Property"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#EMOF.Property.class"/>
  </ownedKey>
  <ownedKey xmi:id="ast4175">
    <identifies href="QVT.ecore#QVTCore.CoreDomain"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Domain.rule"/>
  </ownedKey>
  <ownedKey xmi:id="ast4176">
    <identifies href="QVT.ecore#QVTBase.TypedModel"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.usedPackage"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.TypedModel.transformation"/>
  </ownedKey>
  <ownedKey xmi:id="ast4177">
    <identifies href="QVT.ecore#EMOF.Package"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
  </ownedKey>
  <ownedKey xmi:id="ast4178">
    <identifies href="QVT.ecore#QVTBase.Transformation"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
  </ownedKey>
  <ownedKey xmi:id="ast4179">
    <identifies href="QVT.ecore#EMOF.Operation"/>
    <part xsi:type="ecore:EAttribute" href="QVT.ecore#EMOF.NamedElement.name"/>
  </ownedKey>
  <ownedKey xmi:id="ast4180">
    <identifies href="QVT.ecore#QVTBase.Predicate"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.pattern"/>
    <part xsi:type="ecore:EReference" href="QVT.ecore#QVTBase.Predicate.conditionExpression"/>
  </ownedKey>
</eqvtr:RelationalTransformation>
