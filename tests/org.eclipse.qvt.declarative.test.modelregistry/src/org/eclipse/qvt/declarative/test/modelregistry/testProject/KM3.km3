-- @km3version km32007
-- @name KM3
-- @version 2007
package KM3 {

	abstract class ModelElement {
		attribute name : String;
	}
	
	abstract class PackageElement extends ModelElement {
		reference "package" : Package oppositeOf contents;
	}

	class Metamodel {
		reference contents[*] ordered container : Package oppositeOf metamodel;
	}

	class Package extends PackageElement {
		reference metamodel : Metamodel oppositeOf contents;
		reference contents[*] ordered container : PackageElement oppositeOf "package";
	}

-- @begin Classifiers
	abstract class Classifier extends PackageElement {
	}

	class Class extends Classifier {
		attribute isAbstract : Boolean;
		reference supertypes[*] ordered : Class;
		reference structuralFeatures[*] ordered container : StructuralFeature oppositeOf owner;
	}

	class DataType extends Classifier {
	}

	class Enumeration extends DataType {
		reference literals[*] ordered container : EnumLiteral oppositeOf "enumeration";
	}

	class EnumLiteral extends ModelElement {
		reference "enumeration" : Enumeration oppositeOf literals;
	}
-- @end Classifiers

-- @begin StructuralFeatures
	abstract class StructuralFeature extends ModelElement {
		attribute lower : Integer;
		attribute upper : Integer;
		attribute isOrdered : Boolean;
		reference owner : Class oppositeOf structuralFeatures;
		reference type : Classifier;
	}

	class Attribute extends StructuralFeature {
		attribute isUnique : Boolean;
	}

	class Reference extends StructuralFeature {
		reference opposite[0-1] : Reference;
		attribute isContainer : Boolean;
	}
-- @end StructuralFeatures
}

package PrimitiveTypes {
	datatype Boolean;
	datatype Integer;
	datatype String;
}
