<?xml version="1.0" encoding="UTF-8"?>
<project name="org.eclipse.qvt.declarative.examples" default="zip.examples" basedir=".">
	<target name="init">
	</target>

	<patternset id="ocl.excludes"
		excludes="oclbin/**"/>
	<patternset id="qvtr.excludes"
		excludes="qvtrbin/**"/>
	
	<target name="zip.examples" depends="init">
		<!-- This example may have been compiled already in the Master feature -->
		<zip destfile="zips/royalandloyal.zip" basedir="../org.eclipse.qvt.declarative.examples.ocl.royalandloyal">
			<patternset refid="ocl.excludes"/>
		</zip>
		<zip destfile="zips/reltocore.zip" basedir="../org.eclipse.qvt.declarative.examples.qvtrelation.reltocore">
			<patternset refid="qvtr.excludes"/>
		</zip>
		<antcall target="refresh"/>
	</target>

	<target name="clean" depends="init" description="Clean the plug-in: org.eclipse.qvt.declarative.examples.">
		<delete>
			<fileset dir="zips" includes="*.zip"/>
		</delete>
		<antcall target="refresh"/>
	</target>

	<target name="refresh" depends="init" if="eclipse.running" description="Refresh this folder.">
		<eclipse.refreshLocal resource="/org.eclipse.qvt.declarative.examples" depth="infinite"/>
	</target>
</project>
